<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>DisentangleThings</title>
 <link href="http://ivanhanigan.github.com/feed/" rel="self"/>
 <link href="http://ivanhanigan.github.com/"/>
 <updated>2015-10-09T17:09:37+11:00</updated>
 <id>http://ivanhanigan.github.com/</id>
 <author>
   <name>ivanhanigan</name>
   <email>ivan.hanigan@gmail.com</email>
 </author>

 
 <entry>
   <title>Coming To Grips With Citations In Reproducible Research Reports</title>
   <link href="http://ivanhanigan.github.com/2015/10/coming-to-grips-with-citations-in-reproducible-research-reports/"/>
   <updated>2015-10-09T00:00:00+11:00</updated>
   <id>http://ivanhanigan.github.com/2015/10/coming-to-grips-with-citations-in-reproducible-research-reports</id>
   <content type="html">&lt;h1&gt;Introduction&lt;/h1&gt;

&lt;p&gt;Earlier this year I was pleased to stumble on to Petr Keil\'s &lt;a href=&quot;http://www.petrkeil.com/?p=2401&quot;&gt;Simple
template for scientific manuscripts in
Rmarkdown&lt;/a&gt; and the Github Repo
&lt;a href=&quot;https://github.com/petrkeil/Blog/tree/master/2015_03_12_R_ms_template&quot;&gt;https://github.com/petrkeil/Blog/tree/master/2015_03_12_R_ms_template&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I was already using Rmarkdown effectively for everything I wanted
except my bibliography, and this helped a lot.  But I eventually
found I needed to tweak the format of the citation style.  I tried
out a bunch of other CSL files but none felt just right.  I tried out
these after downloading from &lt;a href=&quot;https://github.com/citation-style-language/styles&quot;&gt;https://github.com/citation-style-language/styles&lt;/a&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;american-physiological-society.csl
annals-of-the-association-of-american-geographers.csl
biomed-central.csl
ecology.csl
pnas.csl
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;/p&gt;


&lt;h1&gt;SO I hacked the CSL file&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;I used the &lt;code&gt;american-physiological-society.csl&lt;/code&gt; to get stuff I wanted and pasted into the &lt;code&gt;mee.csl&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;get the files from this link &lt;a href=&quot;/rmarkdown_utils/CitationsInRmarkdown.Rmd&quot;&gt;/rmarkdown_utils/CitationsInRmarkdown.Rmd&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;get the files from this link &lt;a href=&quot;/rmarkdown_utils/meemodified.csl&quot;&gt;/rmarkdown_utils/meemodified.csl&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;get the files from this link &lt;a href=&quot;/rmarkdown_utils/refs.bib&quot;&gt;/rmarkdown_utils/refs.bib&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;NB also that the csl file in petrkeil's repo is an older version from 2012 of the version in the citation-style repo called &lt;code&gt;methods-in-ecology-and-evolution&lt;/code&gt;.  The differences are not large though.&lt;/p&gt;

&lt;h3&gt;&lt;span class=&quot;header-section-number&quot;&gt;1.1.1&lt;/span&gt; Example 1:&lt;/h3&gt;


&lt;p&gt;The journal article by &lt;span class=&quot;citation&quot;&gt;Michener et al. (1997)&lt;/span&gt; and another one &lt;span class=&quot;citation&quot;&gt;(Bodnar &lt;em&gt;et al.&lt;/em&gt; 2004)&lt;/span&gt; appear with their full URL even though I just want their DOI.&lt;/p&gt;


&lt;h3&gt;&lt;span class=&quot;header-section-number&quot;&gt;1.1.2&lt;/span&gt; Example 2:&lt;/h3&gt;


&lt;p&gt;Some recent papers &lt;span class=&quot;citation&quot;&gt;(Open Science Collaboration 2015; Aiken &lt;em&gt;et al.&lt;/em&gt; 2015; Davey &lt;em&gt;et al.&lt;/em&gt; 2015)&lt;/span&gt; don’t have Volume info and I want to say [epub ahead of print].&lt;/p&gt;


&lt;h3&gt;&lt;span class=&quot;header-section-number&quot;&gt;1.1.3&lt;/span&gt; Example 3:&lt;/h3&gt;


&lt;p&gt;This blog post on ‘evidence based data analysis pipeline’ by &lt;span class=&quot;citation&quot;&gt;Peng (2013)&lt;/span&gt; is one that definitely needs the URL and date accessed.&lt;/p&gt;




&lt;h1&gt;References&lt;/h1&gt;


&lt;p&gt;Aiken, A.M., Davey, C., Hargreaves, J.R. &amp;amp; Hayes, R.J. (2015). Re-analysis of health and educational impacts of a school-based deworming programme in western Kenya: a pure replication. &lt;em&gt;International Journal of Epidemiology&lt;/em&gt;, dyv127. Retrieved from &lt;a href=&quot;http://ije.oxfordjournals.org/content/early/2015/07/21/ije.dyv127.full http://www.ije.oxfordjournals.org/lookup/doi/10.1093/ije/dyv127&quot; class=&quot;uri&quot;&gt;http://ije.oxfordjournals.org/content/early/2015/07/21/ije.dyv127.full http://www.ije.oxfordjournals.org/lookup/doi/10.1093/ije/dyv127&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Bodnar, A., Castorina, R., Desai, M., Duramad, P., Fischer, S., Klepeis, N., Liang, S., Mehta, S., Naumoff, K., Noth, E.M., Schei, M., Tian, L., Vork, K.L. &amp;amp; Smith, K.R. (2004). Lessons learned from ‘the skeptical environmentalist’: an environmental health perspective. &lt;em&gt;International journal of hygiene and environmental health&lt;/em&gt;, &lt;strong&gt;207&lt;/strong&gt;, 57–67. Retrieved from &lt;a href=&quot;http://www.sciencedirect.com/science/article/pii/S1438463904702643&quot; class=&quot;uri&quot;&gt;http://www.sciencedirect.com/science/article/pii/S1438463904702643&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Davey, C., Aiken, A.M., Hayes, R.J. &amp;amp; Hargreaves, J.R. (2015). Re-analysis of health and educational impacts of a school-based deworming programme in western Kenya: a statistical replication of a cluster quasi-randomized stepped-wedge trial. &lt;em&gt;International Journal of Epidemiology&lt;/em&gt;, dyv128. Retrieved from &lt;a href=&quot;http://ije.oxfordjournals.org/content/early/2015/07/21/ije.dyv128.full http://www.ije.oxfordjournals.org/lookup/doi/10.1093/ije/dyv128&quot; class=&quot;uri&quot;&gt;http://ije.oxfordjournals.org/content/early/2015/07/21/ije.dyv128.full http://www.ije.oxfordjournals.org/lookup/doi/10.1093/ije/dyv128&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Michener, W.K., Brunt, J.W., Helly, J.J., Kirchner, T.B. &amp;amp; Stafford, S.G. (1997). Nongeospatial metadata for the ecological sciences. &lt;em&gt;Ecological Applications&lt;/em&gt;, &lt;strong&gt;7&lt;/strong&gt;, 330–342. Retrieved from &lt;a href=&quot;http://www.scopus.com/inward/record.url?scp=0030616825\&amp;amp;partnerID=8YFLogxK&quot; class=&quot;uri&quot;&gt;http://www.scopus.com/inward/record.url?scp=0030616825\&amp;amp;partnerID=8YFLogxK&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Open Science Collaboration. (2015). Estimating the reproducibility of psychological science. &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;349&lt;/strong&gt;, aac4716–aac4716. Retrieved from &lt;a href=&quot;http://www.sciencemag.org/cgi/doi/10.1126/science.aac4716&quot; class=&quot;uri&quot;&gt;http://www.sciencemag.org/cgi/doi/10.1126/science.aac4716&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Peng, R.D. (2013). Implementing Evidence-based Data Analysis: Treading a New Path for Reproducible Research. &lt;em&gt;Simply statistics&lt;/em&gt;. Retrieved July 26, 2015, from &lt;a href=&quot;http://simplystatistics.org/2013/09/05/implementing-evidence-based-data-analysis-treading-a-new-path-for-reproducible-research-part-3/&quot; class=&quot;uri&quot;&gt;http://simplystatistics.org/2013/09/05/implementing-evidence-based-data-analysis-treading-a-new-path-for-reproducible-research-part-3/&lt;/a&gt;&lt;/p&gt;


&lt;pre&gt;&lt;code&gt;# first replace the &amp;lt;macro name=&quot;access&quot;&amp;gt;
# with 
&amp;lt;macro name=&quot;access&quot;&amp;gt;
  &amp;lt;choose&amp;gt;
    &amp;lt;if variable=&quot;DOI&quot;/&amp;gt;
    &amp;lt;!--don't use if there is a DOI--&amp;gt;
    &amp;lt;else&amp;gt;
      &amp;lt;choose&amp;gt;
        &amp;lt;if variable=&quot;URL&quot;&amp;gt;
          &amp;lt;group delimiter=&quot; &quot; prefix=&quot; &quot;&amp;gt;
            &amp;lt;group&amp;gt;
              &amp;lt;text variable=&quot;URL&quot;/&amp;gt;
            &amp;lt;/group&amp;gt;
            &amp;lt;group prefix=&quot;[&quot; suffix=&quot;]&quot; delimiter=&quot; &quot;&amp;gt;
              &amp;lt;date variable=&quot;accessed&quot;&amp;gt;
                &amp;lt;date-part name=&quot;day&quot;/&amp;gt;
                &amp;lt;date-part name=&quot;month&quot; prefix=&quot; &quot; suffix=&quot; &quot; form=&quot;short&quot;/&amp;gt;
                &amp;lt;date-part name=&quot;year&quot;/&amp;gt;
              &amp;lt;/date&amp;gt;
            &amp;lt;/group&amp;gt;
          &amp;lt;/group&amp;gt;
        &amp;lt;/if&amp;gt;
      &amp;lt;/choose&amp;gt;
    &amp;lt;/else&amp;gt;
  &amp;lt;/choose&amp;gt;
&amp;lt;/macro&amp;gt;
#### Then add this ####
&amp;lt;macro name=&quot;date&quot;&amp;gt;
  &amp;lt;choose&amp;gt;
    &amp;lt;if variable=&quot;issued&quot;&amp;gt;
      &amp;lt;choose&amp;gt;
        &amp;lt;if type=&quot;article-journal&quot;&amp;gt;
          &amp;lt;date variable=&quot;issued&quot;&amp;gt;
            &amp;lt;date-part name=&quot;year&quot;/&amp;gt;
          &amp;lt;/date&amp;gt;
        &amp;lt;/if&amp;gt;
        &amp;lt;else&amp;gt;
          &amp;lt;date variable=&quot;issued&quot;&amp;gt;
            &amp;lt;date-part name=&quot;year&quot;/&amp;gt;
          &amp;lt;/date&amp;gt;
        &amp;lt;/else&amp;gt;
      &amp;lt;/choose&amp;gt;
    &amp;lt;/if&amp;gt;
    &amp;lt;else&amp;gt;
      &amp;lt;text term=&quot;no date&quot; prefix=&quot;[&quot; suffix=&quot;]&quot;/&amp;gt;
    &amp;lt;/else&amp;gt;
  &amp;lt;/choose&amp;gt;
&amp;lt;/macro&amp;gt;
#### And add this ####
      &amp;lt;else-if type=&quot;article-journal&quot;&amp;gt;
        &amp;lt;choose&amp;gt;
          &amp;lt;if variable=&quot;issue volume&quot; match=&quot;any&quot;&amp;gt;
            &amp;lt;text macro=&quot;title&quot; suffix=&quot; &quot;/&amp;gt;
            &amp;lt;text variable=&quot;container-title&quot; suffix=&quot; &quot; form=&quot;short&quot; font-style=&quot;italic&quot; strip-periods=&quot;true&quot;/&amp;gt;
            &amp;lt;text variable=&quot;volume&quot;/&amp;gt;
            &amp;lt;text variable=&quot;page&quot; prefix=&quot;: &quot;/&amp;gt;
            &amp;lt;text macro=&quot;date&quot; prefix=&quot;, &quot; suffix=&quot;.&quot;/&amp;gt;
          &amp;lt;/if&amp;gt;
          &amp;lt;else&amp;gt;
            &amp;lt;choose&amp;gt;
              &amp;lt;if variable=&quot;DOI&quot;&amp;gt;
                &amp;lt;text macro=&quot;title&quot; suffix=&quot; &quot;/&amp;gt;
                &amp;lt;text variable=&quot;container-title&quot; suffix=&quot; &quot; form=&quot;short&quot; font-style=&quot;italic&quot;/&amp;gt;
                &amp;lt;group prefix=&quot;(&quot; suffix=&quot;).&quot;&amp;gt;
                  &amp;lt;date variable=&quot;issued&quot;&amp;gt;
                    &amp;lt;date-part name=&quot;month&quot; prefix=&quot; &quot; suffix=&quot; &quot;/&amp;gt;
                    &amp;lt;date-part name=&quot;day&quot; suffix=&quot;, &quot;/&amp;gt;
                    &amp;lt;date-part name=&quot;year&quot;/&amp;gt;
                  &amp;lt;/date&amp;gt;
                &amp;lt;/group&amp;gt;
                &amp;lt;text variable=&quot;DOI&quot; prefix=&quot; doi: &quot;/&amp;gt;
              &amp;lt;/if&amp;gt;
              &amp;lt;else&amp;gt;
                &amp;lt;text variable=&quot;container-title&quot; suffix=&quot;. &quot; form=&quot;short&quot; font-style=&quot;italic&quot;/&amp;gt;
              &amp;lt;/else&amp;gt;
            &amp;lt;/choose&amp;gt;
          &amp;lt;/else&amp;gt;
        &amp;lt;/choose&amp;gt;
      &amp;lt;/else-if&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;Now use this modified csl in the header of the RMD file instead of mee.csl&lt;/h2&gt;

&lt;h1&gt;&lt;span class=&quot;header-section-number&quot;&gt;1.2&lt;/span&gt; NEW References&lt;/h1&gt;


&lt;p&gt;Aiken, A.M., Davey, C., Hargreaves, J.R. &amp;amp; Hayes, R.J. (2015).Re-analysis of health and educational impacts of a school-based deworming programme in western Kenya: a pure replication &lt;em&gt;International Journal of Epidemiology&lt;/em&gt; (epub ahead of print July 2015). doi: &lt;a href=&quot;http://dx.doi.org/10.1093/ije/dyv127&quot;&gt;10.1093/ije/dyv127&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Bodnar, A., Castorina, R., Desai, M., Duramad, P., Fischer, S., Klepeis, N., Liang, S., Mehta, S., Naumoff, K., Noth, E.M., Schei, M., Tian, L., Vork, K.L. &amp;amp; Smith, K.R. (2004).Lessons learned from ‘the skeptical environmentalist’: an environmental health perspective. &lt;em&gt;International journal of hygiene and environmental health&lt;/em&gt; 207: 57–67, 2004.&lt;/p&gt;


&lt;p&gt;Davey, C., Aiken, A.M., Hayes, R.J. &amp;amp; Hargreaves, J.R. (2015).Re-analysis of health and educational impacts of a school-based deworming programme in western Kenya: a statistical replication of a cluster quasi-randomized stepped-wedge trial &lt;em&gt;International Journal of Epidemiology&lt;/em&gt; (epub ahead of print July 2015). doi: &lt;a href=&quot;http://dx.doi.org/10.1093/ije/dyv128&quot;&gt;10.1093/ije/dyv128&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Michener, W.K., Brunt, J.W., Helly, J.J., Kirchner, T.B. &amp;amp; Stafford, S.G. (1997).Nongeospatial metadata for the ecological sciences &lt;em&gt;Ecological Applications&lt;/em&gt; 7: 330–342, 1997. &lt;a href=&quot;http://www.scopus.com/inward/record.url?scp=0030616825\&amp;amp;partnerID=8YFLogxK&quot;&gt;http://www.scopus.com/inward/record.url?scp=0030616825\&amp;amp;partnerID=8YFLogxK&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Open Science Collaboration. (2015).Estimating the reproducibility of psychological science &lt;em&gt;Science&lt;/em&gt; 349: aac4716–aac4716, 2015.&lt;/p&gt;


&lt;p&gt;Peng, R.D. (2013). Implementing Evidence-based Data Analysis: Treading a New Path for Reproducible Research. &lt;em&gt;Simply statistics&lt;/em&gt;. &lt;a href=&quot;http://simplystatistics.org/2013/09/05/implementing-evidence-based-data-analysis-treading-a-new-path-for-reproducible-research-part-3/&quot;&gt;http://simplystatistics.org/2013/09/05/implementing-evidence-based-data-analysis-treading-a-new-path-for-reproducible-research-part-3/&lt;/a&gt; [26 Jul. 2015]&lt;/p&gt;

</content>
 </entry>
 
 
</feed>
