<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>DisentangleThings</title>
 <link href="http://ivanhanigan.github.com/feed/" rel="self"/>
 <link href="http://ivanhanigan.github.com/"/>
 <updated>2016-01-29T16:49:09+11:00</updated>
 <id>http://ivanhanigan.github.com/</id>
 <author>
   <name>ivanhanigan</name>
   <email>ivan.hanigan@gmail.com</email>
 </author>

 
 <entry>
   <title>UPDATE to post 'GIS Issues when R is Used for Transforming Coordinate Systems'</title>
   <link href="http://ivanhanigan.github.com/2016/01/gis-issues-when-r-used-transforming-coordinate-systems/"/>
   <updated>2016-01-29T00:00:00+11:00</updated>
   <id>http://ivanhanigan.github.com/2016/01/gis-issues-when-r-used-transforming-coordinate-systems</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;UPDATE to post &lt;a href=&quot;http://ivanhanigan.github.com//2015/10/gis-issues-when-r-used-transforming-coordinate-systems&quot;&gt;http://ivanhanigan.github.com//2015/10/gis-issues-when-r-used-transforming-coordinate-systems&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Recall that RGDAL transforms and write out spatial data in GDA94 with a problem in that ArcGIS does not like the prj file and complains&lt;/li&gt;
&lt;li&gt;This seems an ok workaround&lt;/li&gt;
&lt;/ul&gt;


&lt;pre&gt;&lt;code&gt;infile &amp;lt;- &quot;western_sydney_passive_samplers_site_details.csv&quot;
indir &amp;lt;- &quot;data_derived&quot;

outdir &amp;lt;- indir
outfile &amp;lt;- file.path(outdir, gsub(&quot;.csv&quot;,&quot;.shp&quot;,infile))

dat &amp;lt;- read.csv(file.path(indir, infile), as.is=T)
str(dat)

dat2 &amp;lt;- SpatialPointsDataFrame(data.frame(x=dat$long, y=dat$lat), dat,
                                proj4string=CRS(epsg$prj4[epsg$code %in% '4283'])
                                )

writeOGR(dat2, outfile,
         outdir, driver='ESRI Shapefile'
         )
# fix the prj file 
download.file(&quot;http://spatialreference.org/ref/epsg/4283/prj/&quot;,
              gsub(&quot;.shp&quot;, &quot;.prj&quot;, outfile), mode = &quot;wb&quot;
              )
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&quot;/images/samplers_sydney.png&quot; alt=&quot;/images/samplers_sydney.png&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 
</feed>
