<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Ivan Hanigan - Disentangle Things</title>
    <meta name="author" content="Ivan Hanigan" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/screen.css">
    <link href="http://feeds.feedburner.com/Disentanglethings" rel="alternate" title="RSS" type="application/rss+xml" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/jquery.github_v2.js"></script>
  </head>

  <body>


    <div id="header" class="section">
      <div class="wrapper">
        <strong id="blog-title">
          <a href="/" rel="home">Disentangle Things by Ivan Hanigan</a>
        </strong>
        <p id="blog-description"></p>
        <div id="navigation">
          <ul class="nav clearfix">
            <li> <a href="/blog/">Notes</a></li> 
            <li><a href="/research/">About Open Notebooks</a></li>
            <li><a href="/projects/">Projects</a></li>
            <li><a href="http://orcid.org/0000-0002-6360-6793">CV</a></li>
            <li><a href="http://lmgtfy.com/?q=site%3Aivanhanigan.github.io">Search this Site</a></li> 
          </ul>
        </div>
      </div>
    </div>
    <div id="main" class="section">
      <div class="wrapper">
        <div id="content">
          <h2>Welcome to my Open Notebook</h2>
            <!--<li class="first-child"><a href="/research.html">About My Notebook</a></li>-->
            <!--<li><a href="/donors.html">Donors</a></li>-->
            <!-- <li><a href="/projects.html">Data</a></li> -->
            <!--<li><a href="/publications.html">Journal Publications</a></li>-->
<p>This is an Open Notebook with <a href="https://en.wikipedia.org/wiki/Open_notebook_science" target="new">Selected Content - Delayed</a>. All content is licenced with CC-BY. Find out more <a href="/research">Here</a>.</p>

<p>  <img src="/images/ONS-SCD.png" alt="ONS-SCD.png" /></p>

          <!-- AddThis Button BEGIN -->
<!-- <div class="addthis_toolbox addthis_default_style "> -->
<!--   <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a> -->
<!--   <a class="addthis_button_tweet"></a> -->
<!--   <a class="addthis_button_google_plusone" g:plusone:size="medium"></a> -->
<!--   <a class="addthis_counter addthis_pill_style"></a> -->
<!-- </div> -->
<!-- <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=SChamberlain"></script> -->
<!-- AddThis Button END -->

  <div class="full">
    <h1 class="entry-title">
      <a href="/2015/10/reproducible-research-pipelines-improve-description-of-method-steps/" title="Reproducible research pipelines improve description of method steps" rel="bookmark">Reproducible research pipelines improve description of method steps</a>
    </h1>
    <div class="entry-content full-content">
      <p>Adequately documenting the methods and results of data analysis helps
safeguard against errors of execution and
interpretation. It is proposed that
reproducible research pipelines address the problem of
adequate documentation of data analysis.</p>

<p>This is because they make it easy to
check the methods. Assumptions are easy to challenge and results
verified in new analyses. Reproducible research pipelines extend
traditional research.  They do this by encoding the steps in a
computer ‘scripting’ language and distributing the data and code with
publications.  Traditional research moves through the steps of
hypothesis and design, measured data, analytic data, computational
results (for figures, tables and numerical results), and reports (text
and formatted manuscript).</p>

<h2 id="fundamental-components-of-a-reproducible-research-pipeline">Fundamental components of a reproducible research pipeline</h2>

<p>The basic components of a pipeline are:</p>

<ul>
  <li>Data Management Plan and Data Inventory</li>
  <li>Method steps</li>
  <li>Code</li>
  <li>Data storage</li>
  <li>Reports</li>
  <li>Distribution.</li>
</ul>

<h3 id="method-steps">Method Steps</h3>

<p>The method step is the key atomic unit of a scientific pipeline.  It consists of inputs, outputs and a rationale for why the step is taken.</p>

<p>A simple way to keep track of the steps, inputs and outputs is shown in the Table below.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>library(stringr)
steps &lt;- read.csv(textConnection('
CLUSTER ,  STEP  , INPUTS                   , OUTPUTS                   
A  ,  Step1      , "Input 1, Input 2"       , "Output 1"                 
A  ,  Step2      ,  Input 3                  , Output 2                   
B  ,  Step3      , "Output 1, Output 2"      , Output 3                  
'), stringsAsFactors = F, strip.white = T)

</code></pre></div></div>
<p></p>

<p>The steps and data listed in the Table above can be visualised.
To achieve this an R function was written as part of this PhD project and is distributed in my own R package available on Github <a href="https://github.com/ivanhanigan/disentangle">https://github.com/ivanhanigan/disentangle</a>.
This is the <code class="language-plaintext highlighter-rouge">newnode</code> function.  The function returns a string of text
written in the <code class="language-plaintext highlighter-rouge">dot</code> language which can be rendered in R using the
<code class="language-plaintext highlighter-rouge">DiagrammeR</code> package, or the standalone <code class="language-plaintext highlighter-rouge">graphviz</code> package.   This creates the graph of this pipeline shown in Figure below.  Note that a new field was added for Descriptions as these are highly recommended.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>library(disentangle); library(stringr)
nodes &lt;- newnode(indat = steps,   names_col = "STEP", in_col = "INPUTS",
  out_col = "OUTPUTS", 
  nchar_to_snip = 40)
sink("fig-basic.dot");
cat(nodes);
sink()
# or DiagrammeR::grViz(nodes)
system("dot -Tpdf fig-basic.dot -o fig-basic.pdf")

</code></pre></div></div>
<p></p>

<p><img src="/images/fig-basic.png" alt="/images/fig-basic.png" /></p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/disentangle" title="disentangle" rel="category tag">disentangle</a>
      
      <a href="/categories/Workflow tools" title="Workflow tools" rel="category tag">Workflow tools</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2015/10/reproducible-research-pipelines-improve-description-of-method-steps/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="2015-10-18 00:00:00 +0800">18 Oct 2015</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2015/10/how-to-effectively-implement-electronic-lab-notebooks-in-epidemiology/" title="How To Effectively Implement Electronic Lab Notebooks In Epidemiology" rel="bookmark">How To Effectively Implement Electronic Lab Notebooks In Epidemiology</a>
    </h1>
    <div class="entry-content full-content">
      <ul>
  <li>It is often stated in the literature that an electronic lab notebook is a core component of reproducible research</li>
  <li>For example the following is from Buck, S. (2015). Solving reproducibility. Science, 348(6242), 1403–1403. <a href="http://dx.doi.org/10.1126/science.aac8041">http://dx.doi.org/10.1126/science.aac8041</a></li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>one of the most effective ways to promote high-quality science 
is to create free open-source tools that give scientists
easier and cheaper ways to incorporate transparency
into their daily workflow: from open lab notebooks, to
software that tracks every version of a data set, to dynamic 
document generation.
</code></pre></div></div>

<p></p>

<ul>
  <li>But I have struggled to operationalise the lab notebook in the epidemiology projects I work in</li>
  <li>Here are some notes based on my recent readings and attempts with a new team</li>
</ul>

<h2 id="modularised-lab-notebooks">Modularised lab notebooks</h2>

<p>There seem to be a small number of components to a lab notebook that can be defined as:</p>

<ul>
  <li>Data management plan</li>
  <li>Workplan</li>
  <li>Worklog</li>
  <li>Workflow</li>
  <li>Distribution</li>
</ul>

<p>One thing I think is important is to have levels of organisation in a hierarchy:</p>

<ul>
  <li>Macro level: The ‘Research Programme’ level is about the entire breadth of the projects in the group.
    <ul>
      <li>Data Management Plan: including managing the computers and a Data Inventory</li>
      <li><em>Personal Workplan and Worklog</em>: this is an overview of things I do, plan to do or learn along the way (this is for the high level things like planning professional development, or a holiday)</li>
      <li>This is operationalised in the blog you are reading right now.</li>
    </ul>
  </li>
  <li>Meso level: the ‘Research Project’ level is about a single study, or a small group of studies based around a core dataset or Concept
    <ul>
      <li>This is the level that you might write up a manuscript for a journal, or report to a client</li>
      <li><em>Project workplan</em>: at this level there may be high level information about the study design, hypotheses, resources and admin for managing relationships with a variety of collaborators</li>
      <li><em>Worklog</em>: WS Noble <a href="http://dx.doi.org/10.1371/journal.pcbi.1000424">http://dx.doi.org/10.1371/journal.pcbi.1000424</a> recommends that this be the main lab notebook for the analysts</li>
      <li>He says ‘This is a document that resides in the root of the results directory and that records your progress in detail. Entries in the notebook should be dated, and they should be relatively verbose, with links or embedded images or tables displaying the results of the experiments that you performed. In addition to de- scribing precisely what you did, the notebook should record your observations, conclusions, and ideas for future work’</li>
    </ul>
  </li>
  <li>Micro level: the ‘Experiment Results’ level is about work you might do on a single day, or over a week
    <ul>
      <li><em>Workflow</em> scripts: At this level each ‘experiment’ is written up in chronological order, as entries to the Worklog at the meso level</li>
      <li>Noble recommends ‘create either a README file, in which I store every command line that I used while performing the experi- ment, or a driver script (I usually call this runall) that carries out the entire experiment automatically’…</li>
      <li>and ‘you should end up with a file that is parallel to the lab notebook entry. The lab notebook contains a prose description of the exper- iment, whereas the driver script contains all the gory details.’</li>
      <li>this is the level I usually think of managing the distribution side of things.  I will want to pack up the results and email to my collaborators, or decide on the one set of tables and figures to write into the manuscript for submission to a journal.  If this is accepted for publication, this is the one combined package of ‘analytical data and code’ that I would consider putting up online (to github) as supporting information for the paper.</li>
    </ul>
  </li>
</ul>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/disentangle" title="disentangle" rel="category tag">disentangle</a>
      
      <a href="/categories/Workflow tools" title="Workflow tools" rel="category tag">Workflow tools</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2015/10/how-to-effectively-implement-electronic-lab-notebooks-in-epidemiology/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="2015-10-17 00:00:00 +0800">17 Oct 2015</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2015/10/gis-issues-when-r-used-transforming-coordinate-systems/" title="GIS Issues when R is Used for Transforming Coordinate Systems" rel="bookmark">GIS Issues when R is Used for Transforming Coordinate Systems</a>
    </h1>
    <div class="entry-content full-content">
      <ul>
  <li>I have been using RGDAL to transform and write out spatial data in GDA94</li>
  <li>It is a problem to know what I need to do to create the right prj file for ArcGIS to read without complaining</li>
  <li>I have an example of code below, that I used on a dataset I knew was in GDA94 when I read it in.  I want to do this mostly for when I have to convert from one to another, but I have done the manual hack a couple of times now and thought I better just check with an expert.</li>
</ul>

<h4 id="r-code">R Code:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>infile &lt;- "ap_map"
outfile &lt;- gsub("map", "map_GDA94.shp", infile)
outfile
setwd(indir)
shp &lt;- readOGR(".", infile)
setwd(projdir)
plot(shp, add = T)
#str(shp)
shp@proj4string@projargs
#[1] "+proj=longlat +ellps=GRS80 +no_defs"
# confirm this is GDA94
epsg &lt;- make_EPSG()
str(epsg)
epsg[grep(4283, epsg$code),]
#     code    note                                                       prj4
# 212 4283 # GDA94   +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs
# Arcmap sees this as GRS 1980(IUGG, 1980) which I think is the same thing
# to be on the safe side I will force it to refer to GDA94
shp2 &lt;- spTransform(shp, CRS("+init=epsg:4283"))
shp2@proj4string@projargs
#now write
setwd(outdir)
dir()
writeOGR(shp2,  outfile, gsub(".shp", "", outfile), driver = "ESRI Shapefile")
setwd(projdir)
# Checking this shows it did not write the correct prj file, but I believe that this is because the GDA94 definition is not different to the WGS80 params.
# one other option is to manually replace that prj file with the correct text found at http://spatialreference.org/ref/epsg/4283/
# SO I did this to avoid any future confusions
# OLD GEOGCS["GRS 1980(IUGG, 1980)",DATUM["D_unknown",SPHEROID["GRS80",6378137,298.257222101]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]]
# NEW GEOGCS["GDA94",DATUM["D_GDA_1994",SPHEROID["GRS_1980",6378137,298.257222101]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]]
# checked with ArcMap and they align ok
</code></pre></div></div>

<p></p>

<h2 id="i-asked-on-of-my-colleagues-and-here-is-his-reply">I asked on of my colleagues and here is his reply</h2>

<ul>
  <li>I usually use the sp and maptools library, rather than the readOGR and writeOGR functions.  Generally my workflow, as an example of projecting a GDA94 zone 55 file to WGS84, would be something like:</li>
</ul>

<h4 id="r-code-1">R Code:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>shp &lt;- readShapePoly("myfile.shp")
proj4string(shp) &lt;- "+proj=utm +zone=55 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"
shp2 &lt;- spTransform(shp, CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs "))
writePolyShape(shp2,"myfile_p.shp",proj4string=CRS("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs "))
</code></pre></div></div>
<p></p>

<ul>
  <li>
    <p>I’ve never <em>noticed</em> any problems doing this, the projection file is generated and I’ve never noticed any alignment problems in ArcMap.  It’s true that I recall ArcMap sometimes displays an incorrect plaintext projection description, but things seem to be in the right place.</p>
  </li>
  <li>
    <p>Also, I don’t really ever rely on EPSG numbers in R - I just grab the proj4 strings and try to use them directly.</p>
  </li>
</ul>

<h2 id="todo-see-if-postgis-handles-this-ok">TODO, see if PostGIS handles this OK</h2>

<ul>
  <li>I wonder if my FOSS GIS stack should still pass things through PostGIS as I suspect it does these things better.</li>
  <li>I might check the output if I run it through the DB use st_transform and then extract to shapefile.</li>
</ul>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/Data Operation" title="Data Operation" rel="category tag">Data Operation</a>
      
      <a href="/categories/spatial" title="spatial" rel="category tag">spatial</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2015/10/gis-issues-when-r-used-transforming-coordinate-systems/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="2015-10-16 00:00:00 +0800">16 Oct 2015</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2015/10/a-set-of-guidelines-for-exploratory-data-analysis-and-cleaning/" title="A Set Of Guidelines For Exploratory Data Analysis And Cleaning" rel="bookmark">A Set Of Guidelines For Exploratory Data Analysis And Cleaning</a>
    </h1>
    <div class="entry-content full-content">
      <p>The New York Times ran a piece on August 17, 2014: “For Big-Data Scientists, ‘Janitor Work’ Is Key Hurdle to Insights” [1].  The article bemoaned the need for too much of what data scientists call “data wrangling”, “data munging” and “data janitor work”.  In essence this means data quality control processes.
A key task of my role as data manager/analyst is to perform Exploratory Data Analysis (EDA) to review data deposited for consistency, quality and its compliance with standards to ensure that reusability of data published in the portal is maximised.   To do this, I use relevant data formatting standards (for example the International Standards from ISO), undertake thorough taxonomic reviews of each dataset and have well documented procedures for dealing with miscellaneous errors such as data inconsistencies, duplicate variable names and reformatting numeric or character strings. I sometimes make changes to the data and give no further thoughts to it, but at  other times I need to make recommendations to the data provider and ask for their decisions/approvals on what to change.</p>

<p>I have put down this set of guidelines for my procedures to create standardised data structures, based on things that have been recommended in the literature [2-6] to make data as re-usable as possible. Here is a list of standard amendments undertaken during my EDA process:</p>

<ul>
  <li>identify any out-of-range values (based on the specified units), or questionable data in general;</li>
  <li>rename all files and variables using lower_case_with_underscores naming convention;</li>
  <li>tabulate frequencies and variable distributions, note any outliers for review;</li>
  <li>identify any opportunities to make wide data longer, or many files that can be merged;</li>
  <li>If you have multiple linked tables, each table should include a column that allows those tables to be linked unambiguously (such as the site_ID variables); check that linking variables that link two or more data tables are identical in each table</li>
  <li>check that values in linked files marry up to values in other files (eg a site code in one file that is missing from the spatial data file);</li>
  <li>write as CSV with quote encapsulated strings (for archival purposes);</li>
  <li>code missing data as NA, or identify if these were actually censored;</li>
  <li>coerce dates to ISO 8601 to be in the the YYYY-MM-DD format, or MMM-YYYY;</li>
  <li>cast nominal variables that use integer codes as character;</li>
  <li>check that all value labels in enumerated lists are described (ie codes for “1” = “low”, “2” = “mid” and “3” = “high”);</li>
  <li>attempt to identify and split any combined variables (like season AND year like “winter-97” or species and comments ie “Banksia Dead”);</li>
  <li>review any species lists against current scientific name conventions, recommend any modifications;</li>
  <li>rename any non-conformant species lists (for instance including comments such as Alive/Dead) to “fauna_descriptor” or “flora_descriptor”;</li>
  <li>identify any characters in numeric or date variables and replace with NA, (add to a comments variable if possible);</li>
  <li>identify any values that Excel may try to convert to date type (for eg. site code “1-5” will appear as 5-Jan and should be rewritten as “site_1-5”);</li>
  <li>use a GIS to confirm spatial coordinates and add geographical coordinates in decimal degrees (GDA94) if only supplied in metres UTM or AMG (always request the datum and the zone);</li>
  <li>check what the coordinates refer to (e.g. approximate location of SW corner of 1ha plot).</li>
  <li>rename files to be consistent with all data in the LTERN Data Portal.  Our standardised names have been created using controlled vocabularies.  Packages and files are designated tracking numbers – this is denoted by a plot network code and a unique “Package” number ascribed to each data package.  Each data package contains one or more data table which is the smallest trackable unit (denoted by a unique “Table” number).</li>
  <li>while we prefer deposit of plain text CSV files, if we receive Excel spreadsheets we check for hidden rows or columns that might not be intended for publication (and  may have been deposited as an oversight).</li>
  <li>it is always best to open Excel workbooks and use the in-built export function to save as CSV files for further re-use.  While R packages and other tools exist to programmatically extract the data from Excel, few tools that interoperate with Excel actually get the all the bug/feature cases right.  It has been noted that
“because working with data that has passed through Excel is hard to get right, data that has passed through Excel is often wrong.” [7]</li>
</ul>

<h2 id="references">References:</h2>

<ol>
  <li>Lohr, S. <a href="http://www.nytimes.com/2014/08/18/technology/for-big-data-scientists-hurdle-to-insights-is-janitor-work.html?_r=0">http://www.nytimes.com/2014/08/18/technology/for-big-data-scientists-hurdle-to-insights-is-janitor-work.html?_r=0</a></li>
  <li>White, E., Baldridge, E., Brym, Z., Locey, K., McGlinn, D., &amp; Supp, S. (2013). Nine simple ways to make it easier to (re)use your data. Ideas in Ecology and Evolution, 6(2), 1–10. <a href="http://dx.doi.org/10.4033/iee.2013.6b.6.f">http://dx.doi.org/10.4033/iee.2013.6b.6.f</a></li>
  <li>Wickham, H. (Under Review). Tidy data. Journal of Statistical Software, VV(Ii).</li>
  <li>Leek, J. 2014. <a href="https://github.com/jtleek/datasharing">https://github.com/jtleek/datasharing</a></li>
  <li>Borer, E., Seabloom, E., Jones, M., and Schildhauer, M. 2009. Some Simple Guidelines for Effective Data Management. Bulletin of the Ecological Society of America 90:205–214. <a href="http://dx.doi.org/10.1890/0012-9623-90.2.205">http://dx.doi.org/10.1890/0012-9623-90.2.205</a></li>
  <li>Campbell, J. L., Rustad, L. E., Porter, J. H., Taylor, J. R., Dereszynski, E. W., Shanley, J. B., Gries, C., Henshaw, D. L., Martin, M. E., Sheldon, W. M., and Boose, E. R. 2013. Quantity is Nothing
without Quality: Automated QA/QC for Streaming Environmental Sensor Data. BioScience, 63,
574-585. <a href="http://dx.doi.org/10.1525/bio.2013.63.7.10">http://dx.doi.org/10.1525/bio.2013.63.7.10</a></li>
  <li>Mount, J. 2014. Excel spreadsheets are hard to get right. <a href="http://www.win-vector.com/blog/2014/11/excel-spreadsheets-are-hard-to-get-right/">http://www.win-vector.com/blog/2014/11/excel-spreadsheets-are-hard-to-get-right/</a></li>
</ol>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/disentangle" title="disentangle" rel="category tag">disentangle</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2015/10/a-set-of-guidelines-for-exploratory-data-analysis-and-cleaning/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="2015-10-14 00:00:00 +0800">14 Oct 2015</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2015/10/a-driver-script-to-set-up-a-data-analysis-pipeline/" title="A Driver Script To Set Up A Data Analysis Pipeline" rel="bookmark">A Driver Script To Set Up A Data Analysis Pipeline</a>
    </h1>
    <div class="entry-content full-content">
      <ul>
  <li>In my previous post I reviewed a paper by Noble 2009 that proposed recommendations for best practice ways to set up a data analysis pipeline <a href="http://ivanhanigan.github.io/2015/10/a-quick-review-of-a-quick-guide-to-organizing-computational-biology-projects/">http://ivanhanigan.github.io/2015/10/a-quick-review-of-a-quick-guide-to-organizing-computational-biology-projects/</a></li>
  <li>I was following up on a series of posts I made about other best practice recommendations <a href="http://ivanhanigan.github.io/2015/09/reproducible-research-and-managing-digital-assets-part-3/">http://ivanhanigan.github.io/2015/09/reproducible-research-and-managing-digital-assets-part-3/</a></li>
  <li>In the paper by Noble it is suggested that a one should use a ‘driver script’ to automate creation of a directory structure, this is the exact way that <code class="language-plaintext highlighter-rouge">ProjectTemplate</code> and <code class="language-plaintext highlighter-rouge">makeProject</code> work as I described them in the series of posts.</li>
  <li>I think Noble’s framework offers something new to the recomendations I had canvassed, that is the idea of chronological order of the contents of the results directory.  I think this is an eminently sensible idea and thought that the R function <code class="language-plaintext highlighter-rouge">Sys.Date()</code> would be a great way to start off a project in this way.</li>
  <li>so I have put together the following R function, as an alternative to the <code class="language-plaintext highlighter-rouge">makeProject</code> core function, that I thought I’d name so that there may be a family of makeProject functions, so that analysts have a range of to choose from.  The other candidate would be <code class="language-plaintext highlighter-rouge">makeProjectLong</code>, which I will also put up before long.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>makeProjectNoble &lt;- function(rootdir = getwd()){
  if(!exists(rootdir)) dir.create(rootdir)
  dir.create(file.path(rootdir,'doc'))
  dir.create(file.path(rootdir,'doc','paper'))
  sink(file.path(rootdir,'doc','workplan.Rmd'))
    cat(sprintf("---\ntitle: Untitled\nauthor: your name\ndate: %s\noutput: html_document\n---\n\n",
                Sys.Date()))
  sink()
  dir.create(file.path(rootdir,'data'))
  dir.create(file.path(rootdir,'data', Sys.Date()))
  dir.create(file.path(rootdir,'src'))
  dir.create(file.path(rootdir,'results')) 
  dir.create(file.path(rootdir,'results', Sys.Date())) 
  file.create(file.path(rootdir,'README.md'))
  }

</code></pre></div></div>

<p></p>

<ul>
  <li>Running this function will deploy the folders and files (I excluded the <code class="language-plaintext highlighter-rouge">bin</code> folder for compiled binaries, as I believe that many data analysts may not need that, and those who do are geeky enough to write their own driver scripts.</li>
</ul>

<p><img src="/images/testProjectNoble.png" alt="/images/testProjectNoble.png" /></p>

<ul>
  <li>The Rmarkdown script is waiting for the analysis plan to be pumped out, and work can begin</li>
</ul>

<p><img src="/images/testProjectNobleMD.png" alt="/images/testProjectNobleMD.png" /></p>

<h1 id="references">References</h1>

<ul>
  <li>Noble, W. S. (2009). A quick guide to organizing computational biology projects. PLoS Computational Biology, 5(7), 1–5. <a href="http://dx.doi.org/10.1371/journal.pcbi.1000424">http://dx.doi.org/10.1371/journal.pcbi.1000424</a></li>
</ul>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/disentangle" title="disentangle" rel="category tag">disentangle</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2015/10/a-driver-script-to-set-up-a-data-analysis-pipeline/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="2015-10-12 00:00:00 +0800">12 Oct 2015</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>


<div class="pagination">
  <span class="previous">
    
      
      <a href="/page10/" title="Previous Page">&laquo; Previous</a>
      
    
  </span>
  <span class="next">
    
    <a href="/page12/" title="Next Page">Next &raquo;</a>
    
  </span>
</div>
<!-- <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=SChamberlain"></script> -->

        </div>
        <div id="sidebar">
          <div id="carrington-subscribe" class="widget">
            <h2 class="widget-title">Subscribe</h2>
            <a class="feed alignright" title="RSS 2.0 feed for posts" rel="alternate" href="http://feeds.feedburner.com/Disentanglethings">
              <img src="/images/rss-button.gif" alt="latest posts" title="latest posts">
            </a>
          </div>
          <div id="carrington-about" class="widget">
            <div class="about">
              <h2 class="widget-title">About</h2>
              <p>I am an Environmental Epidemiologist and Senior Lecturer in Climate Change and Health at Curtin University in Western Australia.</p>
              <a class="more" href="/about">more →</a>

            </div>
          </div>
<div class="sidebar">
  <div class="logos">
  
  <ul>
          
      <!-- Add in logos here -->
      <a href="http://scholar.google.com/citations?user=cGN1P0wAAAAJ&hl=en"><img src="/images/GSIcon.jpg" height=22px width=22px/></a>&nbsp;&nbsp;&nbsp;&nbsp; 
          
      <!-- Add in logos here -->
      <a href="http://orcid.org/0000-0002-6360-6793"><img src="/images/ORCID.png" height=22px width=22px/></a>&nbsp;&nbsp;&nbsp;&nbsp; 
          
      <!-- Add in logos here -->
      <a href="http://github.com/ivanhanigan"><img src="/images/github.png" height=22px width=22px/></a>&nbsp;&nbsp;&nbsp;&nbsp; 
          
      <!-- Add in logos here -->
      <a href="mailto:ivan.hanigan@gmail.com"><img src="/images/gmail.png" height=22px width=22px/></a>&nbsp;&nbsp;&nbsp;&nbsp; 
          
      <!-- Add in logos here -->
      <a href="https://twitter.com/ivanhanigan"><img src="/images/twitter.png" height=22px width=22px/></a>&nbsp;&nbsp;&nbsp;&nbsp; 
    
  </ul>
   
  </div>
</div>
          <!--
          	<p>
              <a href="http://ropensci.org/">
                <img src="/images/ropensci.png">
              </a>
        	</p>
			-->
			<!--
          <div id="carrington-link" class="widget">
          	<a href="http://ropensci.org/">
            <img src="/images/ropensci.png">
          </div>
          	-->
          
          <div id="primary-sidebar">
            <div class="widget">
              <h2 class="widget-title">Recent Entries</h2>
              <ul>
                
                <li>
                  <a href="/2024/01/personal-academic-website-with-jekyll/" title="Personal academic website with jekyll" rel="bookmark">Personal academic website with jekyll</a>
                </li>
                
                <li>
                  <a href="/2023/05/heat-and-violence/" title="Heat and violence" rel="bookmark">Heat and violence</a>
                </li>
                
                <li>
                  <a href="/2022/12/bushfire-smoke-mortality-in-sydney-nsw/" title="Bushfire Smoke and Mortality in Sydney NSW" rel="bookmark">Bushfire Smoke and Mortality in Sydney NSW</a>
                </li>
                
                <li>
                  <a href="/2022/10/MJA-Lancet-Countdown-report-2022/" title="MJA-Lancet Countdown report 2022" rel="bookmark">MJA-Lancet Countdown report 2022</a>
                </li>
                
                <li>
                  <a href="/2019/07/environmental-health-indicators/" title="Environmental health indicators" rel="bookmark">Environmental health indicators</a>
                </li>
                
              </ul>
              <h2 class="widget-title">Categories</h2>
              <ul>
<!-- <li> -->
<!--               <a class="workflow" href="/categories/workflow.html">workflow</a> -->
<!-- </li> -->
                
                <li><a href="/categories/overview">overview (7)</a></li>
                
                <li><a href="/categories/research methods">research methods (43)</a></li>
                
                <li><a href="/categories/disentangle things">disentangle things (4)</a></li>
                
                <li><a href="/categories/spatial">spatial (9)</a></li>
                
                <li><a href="/categories/extreme weather events">extreme weather events (8)</a></li>
                
                <li><a href="/categories/spatial dependence">spatial dependence (10)</a></li>
                
                <li><a href="/categories/Data Documentation">Data Documentation (31)</a></li>
                
                <li><a href="/categories/awap grids">awap grids (3)</a></li>
                
                <li><a href="/categories/climatic and agricultural drought">climatic and agricultural drought (3)</a></li>
                
                <li><a href="/categories/cloud building">cloud building (3)</a></li>
                
                <li><a href="/categories/disentangle">disentangle (50)</a></li>
                
                <li><a href="/categories/Project Management">Project Management (2)</a></li>
                
                <li><a href="/categories/e-collaboration">e-collaboration (1)</a></li>
                
                <li><a href="/categories/ecosocial tipping points">ecosocial tipping points (2)</a></li>
                
                <li><a href="/categories/Drought">Drought (1)</a></li>
                
                <li><a href="/categories/project management">project management (1)</a></li>
                
                <li><a href="/categories/morpho">morpho (1)</a></li>
                
                <li><a href="/categories/data documentation">data documentation (1)</a></li>
                
                <li><a href="/categories/reproducible research reports">reproducible research reports (2)</a></li>
                
                <li><a href="/categories/Data Management">Data Management (2)</a></li>
                
                <li><a href="/categories/Reproducible Research Reports">Reproducible Research Reports (2)</a></li>
                
                <li><a href="/categories/Data Operation">Data Operation (2)</a></li>
                
                <li><a href="/categories/Workflow tools">Workflow tools (3)</a></li>
                
                <li><a href="/categories/Exploratory Data Analysis">Exploratory Data Analysis (2)</a></li>
                
                <li><a href="/categories/statistical modelling">statistical modelling (2)</a></li>
                
                <li><a href="/categories/blog home">blog home (1)</a></li>
                
                <li><a href="/categories/reproducible research pipelines">reproducible research pipelines (2)</a></li>
                
                <li><a href="/categories/reproducible research">reproducible research (2)</a></li>
                
                <li><a href="/categories/writing">writing (2)</a></li>
                
                <li><a href="/categories/climate data">climate data (1)</a></li>
                
                <li><a href="/categories/exploratory data analysis">exploratory data analysis (2)</a></li>
                
                <li><a href="/categories/bibliometrics and literature reviewing">bibliometrics and literature reviewing (1)</a></li>
                
                <li><a href="/categories/drought awap grids">drought awap grids (1)</a></li>
                
                <li><a href="/categories/drought">drought (2)</a></li>
                
                <li><a href="/categories/data operation">data operation (2)</a></li>
                
                <li><a href="/categories/training">training (2)</a></li>
                
                <li><a href="/categories/swish">swish (3)</a></li>
                
                <li><a href="/categories/air pollution">air pollution (2)</a></li>
                
                <li><a href="/categories/policy relevant research">policy relevant research (3)</a></li>
                
                <li><a href="/categories/climate change">climate change (2)</a></li>
                
                <li><a href="/categories/bushfire smoke">bushfire smoke (1)</a></li>
                
                <li><a href="/categories/heat">heat (1)</a></li>
                
              </ul>
              <h2 class="widget-title">Entries grouped by Tags</h2>
              <ul>
                
                <li><a href="/tag/morpho">morpho (15)</a></li>
                
                <li><a href="/tag/project management">project management (3)</a></li>
                
                <li><a href="/tag/Data Management System">Data Management System (3)</a></li>
                
                <li><a href="/tag/R-eml">R-eml (3)</a></li>
                
                <li><a href="/tag/bugs">bugs (1)</a></li>
                
                <li><a href="/tag/software">software (3)</a></li>
                
                <li><a href="/tag/writing">writing (2)</a></li>
                
                <li><a href="/tag/spatial">spatial (1)</a></li>
                
                <li><a href="/tag/diagrams">diagrams (3)</a></li>
                
                <li><a href="/tag/blogging">blogging (2)</a></li>
                
                <li><a href="/tag/metadata">metadata (1)</a></li>
                
                <li><a href="/tag/R">R (1)</a></li>
                
                <li><a href="/tag/Reproducible Research Reports">Reproducible Research Reports (2)</a></li>
                
                <li><a href="/tag/Data Management">Data Management (3)</a></li>
                
                <li><a href="/tag/Exploratory Data Analysis">Exploratory Data Analysis (1)</a></li>
                
                <li><a href="/tag/bibliometrics and literature reviewing">bibliometrics and literature reviewing (2)</a></li>
                
                <li><a href="/tag/workflow tools">workflow tools (1)</a></li>
                
                <li><a href="/tag/data management">data management (1)</a></li>
                
                <li><a href="/tag/exploratory data analysis">exploratory data analysis (1)</a></li>
                
              <div class="clear"></div>
              </ul>
            </div>
          </div>
          <!-- <div id="secondary-sidebar"> -->
          <!--   <div class="widget"> -->
          <!--     <h2 class="widget-title">Tags</h2> -->
          <!--     <ul> -->
          <!--        -->
          <!--       <li><a href="/tag/morpho">morpho (15)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/project management">project management (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/Data Management System">Data Management System (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/R-eml">R-eml (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/bugs">bugs (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/software">software (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/writing">writing (2)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/spatial">spatial (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/diagrams">diagrams (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/blogging">blogging (2)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/metadata">metadata (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/R">R (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/Reproducible Research Reports">Reproducible Research Reports (2)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/Data Management">Data Management (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/Exploratory Data Analysis">Exploratory Data Analysis (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/bibliometrics and literature reviewing">bibliometrics and literature reviewing (2)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/workflow tools">workflow tools (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/data management">data management (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/exploratory data analysis">exploratory data analysis (1)</a></li> -->
          <!--        -->
          <!--     <div class="clear"></div> -->
          <!--     </ul> -->
          <!--   </div> -->
            <!--
            <div class="widget">
              <h2 class="widget-title">Archives</h2>
              <ul>
                
              </ul>
              <div class="clear"></div>
            </div>
            -->
          </div>
        </div>
      </div>
    </div>
    <div id="footer" class="section">
      <div class="wrapper">
        <a id="generator-link">
          Banner Artwork by Cindy Hales. Site powered by
          <a href="https://github.com/mojombo/jekyll" rel="generator">Jekyll</a>
          with
          <a href="http://carringtontheme.com" title="Carrington theme for WordPress">Carrington</a>
          theme.
      </div>
      <div id="developer-link">
      </div>
    </div>
    <!--
	<a href="http://github.com/SChamberlain"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://assets2.github.com/img/e6bef7a091f5f3138b8cd40bc3e114258dd68ddf?repo=&url=http%3A%2F%2Fs3.amazonaws.com%2Fgithub%2Fribbons%2Fforkme_right_red_aa0000.png&path=" alt="Fork me on GitHub"></a>
	-->
    <script type="text/javascript">
      var disqus_shortname = 'disentanglethings';

      (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
    </script>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-28059658-1");
        pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
</html>
