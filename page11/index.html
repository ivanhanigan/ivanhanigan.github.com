<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Ivan Hanigan - Disentangle Things</title>
    <meta name="author" content="Ivan Hanigan" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/screen.css">
    <link href="http://feeds.feedburner.com/Disentanglethings" rel="alternate" title="RSS" type="application/rss+xml" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/jquery.github_v2.js"></script>
  </head>

  <body>


    <div id="header" class="section">
      <div class="wrapper">
        <strong id="blog-title">
          <a href="/" rel="home">Disentangle Things by Ivan Hanigan</a>
        </strong>
        <p id="blog-description"></p>
        <div id="navigation">
          <ul class="nav clearfix">
            <li class="first-child"><a href="/research.html">Open Notebook</a></li>
            <li> <a href="/blog.html">Blog</a></li>
            <li><a href="/projects.html">Software</a></li>
            <li><a href="/about.html">About</a></li>
            <li><a href="/publications.html">Publications</a></li>
            <li><a href="/cv.html">CV</a></li>
            <li><a href="http://lmgtfy.com/?q=site%3Aivanhanigan.github.io">Search this Site</a></li> 
            <!--<li><a href="/donors.html">Donors</a></li>-->
          </ul>
        </div>
      </div>
    </div>
    <div id="main" class="section">
      <div class="wrapper">
        <div id="content">
          <h2>Welcome to my Open Notebook</h2>

<p>This is an Open Notebook with <a href="http://onsclaims.wikispaces.com/">Selected Content - Delayed</a> for documenting progress on my projects.</p>

<p>  <img src="/images/ONS-SCD.png" alt="ONS-SCD.png" /></p>

          <!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
  <a class="addthis_button_tweet"></a>
  <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
  <a class="addthis_counter addthis_pill_style"></a>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=SChamberlain"></script>
<!-- AddThis Button END -->

  <div class="full">
    <h1 class="entry-title">
      <a href="/2013/04/suicide-and-drought-evidence-from-literature/" title="Suicide And Drought Evidence From Literature" rel="bookmark">Suicide And Drought Evidence From Literature</a>
    </h1>
    <div class="entry-content full-content">
      <p>This essay evolved as I was asked to write something for the <a href="http://www.hmndp.org/">High-level Meeting on National Drought Policy (HMNDP)</a> in Geneva with <a href="http://www.hmndp.org/presentations/12.03-HMNDP-Parallel5-Howden.pdf">Mark Howden, Steven Crimp and Bryson Bates</a>.  It is a summary of material Colin Butler and I wrote for our paper with Phil Kokic and Mike Hutchinson <a href="http://www.pnas.org/cgi/content/abstract/1112965109v1">on Suicide and Drought published in PNAS last year</a>.</p>

<h1>Suicide and Drought</h1>

<h2>By Ivan Hanigan and Colin Butler</h2>

<p>There has been substantial public interest within Australia in recent decades of the putative relationship between drought and rural mental health, including suicide. The topic has frequently been raised by the media, by rural politicians and by mental health support groups [1]. There have also been recent media reports in India indicating substantial concerns about drought and rural suicide in that country, including [2] from May 2012.</p>

<p>The number of studies that have examined the relationship between suicide and drought is limited. However, many papers explore links between suicide and climate variables other than drought (such as temperature) and there are two major reviews papers available of the literature on climatic influences on suicide [3, 4]. Some climatic variables related to dryness have been studied for example Preti (1998) [5] found higher suicide rates in drier towns in Italy. But we make the point that very few studies have investigated the "dryer than average conditions" that is drought specifically.</p>

<p>There are several mechanisms through which unusually low rainfall, especially if exacerbated by increased soil dryness due to higher temperatures may increase the suicide rate. First, droughts increase the financial stress on farmers and farming communities (even if partially compensated by drought relief welfare payments). Such difficulty may occur in conjunction with other economic stresses, such as rising interest rates, falling commodity prices, or an unfavourable foreign exchange rate.
In the broader economic system, reduced rainfall can depress economic activity in rural towns. In some regions the entire economy may be affected. Rural downturns can accelerate migration to metropolitan areas; weakening and stressing social support systems and lessening social interaction. In some cases rural depopulation may pass a tipping point, leading to an ongoing loss of critical services, such as hospitals, schools and doctors.
Second, there can be a great psychological toll following environmental degradation [6] and this may be acute during droughts linked with decisions and actions to sell or kill starving animals or to destroy orchards and vineyards, which in some cases were painstakingly accumulated over generations. Such loss, and even the apprehension of loss, undoubtedly places a burden on the mental health of farmers and their families. This mourning may not be confined to farmers but extend to other sections of the community likely to be impoverished by long-term environmental degradation. The experience of seeing suffering wild plants and animals, or parched urban parks and gardens, and contemplation of their loss is likely to be extremely painful for some individuals.</p>

<h1>Evidence from literature</h1>

<p>As mentioned the number of studies that have examined the relationship between suicide and drought is limited. One analysis of annual suicide rates in NSW found an association between suicide and year-to-year decline in annual rainfall between 1964 and 2001 [7]. In that study a decrease of 300mm of rain was associated with an increase in suicide rate of about 8% above the mean annual rate.
Another study of NSW, for the period 1901-1998, found an association between suicide and drought. That study focused on the association of conservative government and suicide [8]. The authors argued conservative government programmes (or perceived prospects under a government) might influence suicide directly, or that a correlated increase in anomie (decreased inclusiveness of society) and lowering social capital enhances risk of suicide in vulnerable individuals. The authors controlled for drought (among other things), and found that drought years were associated with an increased suicide risk of about 7% for men and 15% for women, across the whole population.
A third study [9] found no association between drought and suicide in Victoria but was based on only 7 years data (2001-2007) and did not stratify the population of the state into regions which may introduce bias in the exposure estimates of drought affected people.</p>

<p>In contrast a longer running study did find an association using 38 years of data (1970-2007) to explore potential drought effects, especially on farmers and farm workers [10]. The drought exposures were calculated from climatic data for 11 subregions of New South Wales, and stratified by rural/urban region, age and sex. A strong association was observed in rural males aged 10-49. Surprisingly the suicide risk decreased in rural females aged over 30.</p>

<p>This study provides clear evidence to support the hypothesis that male farmers, farm workers and farming families are at risk of depression and suicide due to droughts. The resulting statistical model estimated that around 9 % of rural suicides in males aged 30-49 were due to drought over the entire study period. This estimate is an average over the course of the 38 years of the study, as the majority of years are not droughts - the percentage is much greater than 9 % in the actual drought years, since these are episodic and confined to a distinct minority of years.
The statistical model also controlled for other well-known trends in suicide data, including that times of unusually high maximum temperatures increased suicide risk, that there was a increased risk in spring and early summer, and that there was a marked drop in suicide rates over the last decade.</p>

<h1>Discussion</h1>

<p>These studies from Australia offer some lessons for policy makers. The results identify a suite of contributing factors that influence suicide drawn from the environmental, social and political context of life in Australia, which drought is a part of. In particular these results help isolate the most critical times of risk, so that the best use of resources might be made. This includes provision of counselling services to target vulnerable people and get them help, both during droughts, at times with hotter than average maximum temperatures and during the dangerous spring period.
Other policy implications from this finding support broadening investment in research into gender specific drought effects rather than purely climate and economic focused research into drought impacts.</p>

<h1>References</h1>

<ul>
<li><p>[1]   Australian Broadcasting Commision (ABC) News. Drought lifts suicide rates: Kennett, 2006.  http://www.abc.net.au/news/2006-10-13/drought-lifts-suicide-rates-kennett/1285734</p></li>
<li><p>[2]   P Sarathi Biswas. Alcohol, drought lead to farmer’s suicide. Daily News and Analysis, 2012. http://www.dnaindia.com/pune/report_alcohol-drought-lead-to-farmers-suicide_1688976</p></li>
<li><p>[3] PG Dixon and AJ Kalkstein. Climate-suicide relationships: A research
problem in need of geographic methods and cross-disciplinary perspectives.
Geography Compass , 3(6):1{14, 2009.</p></li>
<li><p>[4] E A Deisenhammer. Weather and suicide: the present state of knowledge
on the association of meteorological factors with suicidal behaviour. Acta
Psychiatrica Scandinavica , 108(6):402{409, 2003.</p></li>
<li><p>[5] Antonio Preti. The infleuence of clima te on suicidal behaviour in Italy.
Psychiatry Res , 78(1-2):9{19, 1998.</p></li>
<li><p>[6]   PC Speldewinde, A Cook, P Davies, and P Weinstein. A relationship between environmental degradation and mental health in rural Western Australia. Health and Place, 15, 2009.</p></li>
<li><p>[7]   N Nicholls, CD Butler, and IC Hanigan. Inter-annual rainfall variations and suicide in New South Wales, Australia, 1964-2001. International Journal of Biometeorology, 50(3), 2006.</p></li>
<li><p>[8]   A Page, S Morrell, and R Taylor. Suicide and political regime in New South Wales and Australia during the 20th century. Journal of Epidemiology and Community Health, 56, 2002.</p></li>
<li><p>[9]   Robyn Guiney. Farming suicides during the Victorian drought: 2001-2007. The Australian Journal of Rural Health, 20(1):11–5, February 2012.</p></li>
<li><p>[10]  I. C. Hanigan, C. D. Butler, P. N. Kokic, and M. F. Hutchinson. Suicide and drought in New South Wales, Australia, 1970-2007. Proceedings of the National Academy of Sciences, pages 1112965109–, August 2012.</p></li>
</ul>


      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/drought" title="drought" rel="category tag">drought</a>
      
      <a href="/categories/suicide" title="suicide" rel="category tag">suicide</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2013/04/suicide-and-drought-evidence-from-literature/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Wed Apr 17 00:00:00 +1000 2013">17 Apr 2013</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2013/04/timeseries-with-spatial-lag/" title="Timeseries with Spatial Lag" rel="bookmark">Timeseries with Spatial Lag</a>
    </h1>
    <div class="entry-content full-content">
      <p><head>
<title>adjacency example </title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="title" content="adjacency example "/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-09-24T21:01+1000"/>
<meta name="author" content="Ivan Hanigan"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/></p>



<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>


<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js">
/**
 *
 * @source: http://orgmode.org/mathjax/MathJax.js
 *
 * @licstart  The following is the entire license notice for the
 *  JavaScript code in http://orgmode.org/mathjax/MathJax.js.
 *
 * Copyright (C) 2012-2013  MathJax
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in http://orgmode.org/mathjax/MathJax.js.
 *
 */

/*
@licstart  The following is the entire license notice for the
JavaScript code below.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code below is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code below.
*/
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>


<p></head>
<body></p>

<div id="preamble">

</div>




<div id="content">
<h1 class="title">adjacency example </h1>


<hr/>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Introduction</a></li>
<li><a href="#sec-2">2 Load some test data</a></li>
<li><a href="#sec-3">3 spdep calculates neighbours</a></li>
<li><a href="#sec-4">4 plot these</a></li>
<li><a href="#sec-5">5 function to return adjacency list as a dataframe</a></li>
<li><a href="#sec-6">6 test-adjacency df</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">

<p>I've got a timeseries model I am fitting to a city dataset with about 45 zones.
The data are daily, stratified by Zone, Age and Sex.
Following on from learning about spatiallly correlated errors I want to see if the Standard Error on the estimated \(\beta_{1}\) from the timeseries model is affected.
</p>
<p>
I think the simplest option is to use the spatial lag model, which can be fitted with just adding a term that is the average of the set of each Zone's neighbours outcome level on each day. For this I need to find the list of each region's neighbours.  Then I'll use this to assign each zone/day/age group their neighbours values and then collapse that to get their daily means.
</p></div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Load some test data</h2>
<div class="outline-text-2" id="text-2">




<pre class="src src-R"><span style="color: #586e75;"># </span><span style="color: #586e75;">we have access to a classic dataset for studying spatial dependence</span>
<span style="color: #586e75;"># </span><span style="color: #586e75;">in the spdep package</span>
<span style="color: #859900; font-weight: bold;">if</span>(!<span style="color: #268bd2; font-weight: bold;">require</span>(spdep))    install.packages(spdep); <span style="color: #268bd2; font-weight: bold;">require</span>(spdep)     
<span style="color: #859900; font-weight: bold;">if</span>(!<span style="color: #268bd2; font-weight: bold;">require</span>(rgdal))    install.packages(rgdal); <span style="color: #268bd2; font-weight: bold;">require</span>(rgdal) 
<span style="color: #859900; font-weight: bold;">if</span>(!<span style="color: #268bd2; font-weight: bold;">require</span>(maptools)) install.packages(maptools); <span style="color: #268bd2; font-weight: bold;">require</span>(maptools) 
<span style="color: #859900; font-weight: bold;">if</span>(!<span style="color: #268bd2; font-weight: bold;">require</span>(maps))     install.packages(maps); <span style="color: #268bd2; font-weight: bold;">require</span>(maps) 
fn <span style="color: #268bd2; font-weight: bold;">&lt;-</span> system.file(<span style="color: #2aa198;">"etc/shapes/eire.shp"</span>, package=<span style="color: #2aa198;">"spdep"</span>)[1]
prj <span style="color: #268bd2; font-weight: bold;">&lt;-</span> CRS(<span style="color: #2aa198;">"+proj=utm +zone=30 +units=km"</span>)
eire <span style="color: #268bd2; font-weight: bold;">&lt;-</span> readShapeSpatial(fn, ID=<span style="color: #2aa198;">"names"</span>, proj4string=prj)
str(eire)
<span style="color: #586e75;"># </span><span style="color: #586e75;">reproject into a better coordinate system</span>
eire <span style="color: #268bd2; font-weight: bold;">&lt;-</span> spTransform(eire, CRS(<span style="color: #2aa198;">"+proj=longlat +datum=WGS84"</span>))
<span style="color: #586e75;"># </span><span style="color: #586e75;">check out the attributes</span>
head(eire@data)

</pre>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="right" /><col class="right" /><col class="right" /><col class="right" /><col class="right" /><col class="right" /><col class="right" /><col class="right" /><col class="right" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="right">A</th><th scope="col" class="right">towns</th><th scope="col" class="right">pale</th><th scope="col" class="right">size</th><th scope="col" class="right">ROADACC</th><th scope="col" class="right">OWNCONS</th><th scope="col" class="right">POPCHG</th><th scope="col" class="right">RETSALE</th><th scope="col" class="right">INCOME</th><th scope="col" class="left">names</th></tr>
</thead>
<tbody>
<tr><td class="right">34.2</td><td class="right">0.12</td><td class="right">1</td><td class="right">1087</td><td class="right">3664</td><td class="right">8.6</td><td class="right">97</td><td class="right">2962</td><td class="right">7185</td><td class="left">Carlow</td></tr>
<tr><td class="right">29.68</td><td class="right">0.01</td><td class="right">0</td><td class="right">2133</td><td class="right">5000</td><td class="right">15</td><td class="right">69</td><td class="right">4452</td><td class="right">9459</td><td class="left">Cavan</td></tr>
<tr><td class="right">26.54</td><td class="right">0.01</td><td class="right">0</td><td class="right">535</td><td class="right">4321</td><td class="right">19</td><td class="right">78</td><td class="right">3460</td><td class="right">12435</td><td class="left">Clare</td></tr>
<tr><td class="right">23.92</td><td class="right">0.03</td><td class="right">0</td><td class="right">1476</td><td class="right">4118</td><td class="right">9</td><td class="right">90</td><td class="right">28402</td><td class="right">65901</td><td class="left">Cork</td></tr>
<tr><td class="right">27.91</td><td class="right">0.03</td><td class="right">0</td><td class="right">989</td><td class="right">7500</td><td class="right">27</td><td class="right">75</td><td class="right">7478</td><td class="right">17626</td><td class="left">Donegal</td></tr>
<tr><td class="right">32.79</td><td class="right">0.61</td><td class="right">1</td><td class="right">18105</td><td class="right">3078</td><td class="right">9.4</td><td class="right">142</td><td class="right">89424</td><td class="right">164631</td><td class="left">Dublin</td></tr>
</tbody>
</table>



</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> spdep calculates neighbours</h2>
<div class="outline-text-2" id="text-3">




<pre class="src src-R">nb <span style="color: #268bd2; font-weight: bold;">&lt;-</span> poly2nb(eire)
str(nb)
<span style="color: #586e75;">#</span><span style="color: #586e75;">List of 26</span>
nb[[1]]
<span style="color: #586e75;">#</span><span style="color: #586e75;">[1]  9 10 11 25 26</span>
<span style="color: #586e75;"># </span><span style="color: #586e75;">So this returns the set of index values for each area's neighbours</span>
<span style="color: #586e75;"># </span><span style="color: #586e75;">I'd prefer to read their names</span>
eire[[<span style="color: #2aa198;">'names'</span>]][1]
<span style="color: #586e75;"># </span><span style="color: #586e75;">&gt; [1] Carlow</span>
<span style="color: #586e75;"># </span><span style="color: #586e75;">so therefore the neighbours of area 1 "Carlow" are in the first</span>
<span style="color: #586e75;"># </span><span style="color: #586e75;">element of the list</span>
eire[[<span style="color: #2aa198;">'names'</span>]][nb[[1]]]
<span style="color: #586e75;"># </span><span style="color: #586e75;">&gt; [1] Kildare  Kilkenny Laoghis  Wexford  Wicklow</span>

</pre>



</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> plot these</h2>
<div class="outline-text-2" id="text-4">




<pre class="src src-R"><span style="color: #586e75;">################################################################</span>
<span style="color: #586e75;"># </span><span style="color: #586e75;">name:plot these</span>
png(<span style="color: #2aa198;">"images/Fig1.png"</span>)
plot(eire)
plot(nb, coordinates(eire), add=<span style="color: #b58900;">TRUE</span>, pch=<span style="color: #2aa198;">"."</span>, lwd=2)
map.scale(ratio = F)
box()
dev.off()

</pre>


<p>
<img src="/images/Fig1.png"  alt="images/Fig1.png" />
</p>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> function to return adjacency list as a dataframe</h2>
<div class="outline-text-2" id="text-5">

<p>I THINK I actually want this as a dataframe so I can merge it with the master table of outcome data.
</p>



<pre class="src src-R"><span style="color: #586e75;">################################################################</span>
<span style="color: #586e75;"># </span><span style="color: #586e75;">name:adjacency_df</span>
<span style="color: #268bd2;">adjacency_df</span> <span style="color: #268bd2; font-weight: bold;">&lt;-</span> <span style="color: #859900; font-weight: bold;">function</span>(NB, shp, zone_id)
  {
    adjacencydf <span style="color: #268bd2; font-weight: bold;">&lt;-</span> as.data.frame(matrix(<span style="color: #b58900;">NA</span>, nrow = 0, ncol = 2))
    <span style="color: #859900; font-weight: bold;">for</span>(i <span style="color: #859900; font-weight: bold;">in</span> 1:length(NB))
    {
      <span style="color: #859900; font-weight: bold;">if</span>(length(shp[[zone_id]][NB[[i]]]) == 0) <span style="color: #859900; font-weight: bold;">next</span>
      adjacencydf <span style="color: #268bd2; font-weight: bold;">&lt;-</span> rbind(
                           adjacencydf,
                           cbind(
                                 as.character(shp[[zone_id]][i]),
                                 as.character(shp[[zone_id]][NB[[i]]])
                                 )
                           )
    }
    <span style="color: #859900; font-weight: bold;">return</span>(adjacencydf)
  }

</pre>


</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> test-adjacency df</h2>
<div class="outline-text-2" id="text-6">




<pre class="src src-R"><span style="color: #586e75;">################################################################</span>
<span style="color: #586e75;"># </span><span style="color: #586e75;">name:adjacency_df</span>
adj <span style="color: #268bd2; font-weight: bold;">&lt;-</span> adjacency_df(NB = nb, shp = eire, zone_id = <span style="color: #2aa198;">'names'</span>)
adj  
</pre>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left" /><col class="left" />
</colgroup>
<tbody>
<tr><td class="left">Carlow</td><td class="left">Kildare</td></tr>
<tr><td class="left">Carlow</td><td class="left">Kilkenny</td></tr>
<tr><td class="left">Carlow</td><td class="left">Laoghis</td></tr>
<tr><td class="left">Carlow</td><td class="left">Wexford</td></tr>
<tr><td class="left">Carlow</td><td class="left">Wicklow</td></tr>
<tr><td class="left">Cavan</td><td class="left">Leitrim</td></tr>
<tr><td class="left">Cavan</td><td class="left">Longford</td></tr>
<tr><td class="left">Cavan</td><td class="left">Meath</td></tr>
<tr><td class="left">Cavan</td><td class="left">Monaghan</td></tr>
<tr><td class="left">Cavan</td><td class="left">Westmeath</td></tr>
<tr><td class="left">Clare</td><td class="left">Galway</td></tr>
<tr><td class="left">Clare</td><td class="left">Limerick</td></tr>
<tr><td class="left">Clare</td><td class="left">Tipperary</td></tr>
<tr><td class="left">Cork</td><td class="left">Kerry</td></tr>
<tr><td class="left">Cork</td><td class="left">Limerick</td></tr>
<tr><td class="left">Cork</td><td class="left">Tipperary</td></tr>
<tr><td class="left">Cork</td><td class="left">Waterford</td></tr>
<tr><td class="left">Donegal</td><td class="left">Leitrim</td></tr>
<tr><td class="left">Dublin</td><td class="left">Kildare</td></tr>
<tr><td class="left">Dublin</td><td class="left">Meath</td></tr>
<tr><td class="left">Dublin</td><td class="left">Wicklow</td></tr>
<tr><td class="left">Galway</td><td class="left">Clare</td></tr>
<tr><td class="left">Galway</td><td class="left">Mayo</td></tr>
<tr><td class="left">Galway</td><td class="left">Offaly</td></tr>
<tr><td class="left">Galway</td><td class="left">Roscommon</td></tr>
<tr><td class="left">Galway</td><td class="left">Tipperary</td></tr>
<tr><td class="left">Kerry</td><td class="left">Cork</td></tr>
<tr><td class="left">Kerry</td><td class="left">Limerick</td></tr>
<tr><td class="left">Kildare</td><td class="left">Carlow</td></tr>
<tr><td class="left">Kildare</td><td class="left">Dublin</td></tr>
<tr><td class="left">Kildare</td><td class="left">Laoghis</td></tr>
<tr><td class="left">Kildare</td><td class="left">Meath</td></tr>
<tr><td class="left">Kildare</td><td class="left">Offaly</td></tr>
<tr><td class="left">Kildare</td><td class="left">Wicklow</td></tr>
<tr><td class="left">Kilkenny</td><td class="left">Carlow</td></tr>
<tr><td class="left">Kilkenny</td><td class="left">Laoghis</td></tr>
<tr><td class="left">Kilkenny</td><td class="left">Tipperary</td></tr>
<tr><td class="left">Kilkenny</td><td class="left">Waterford</td></tr>
<tr><td class="left">Kilkenny</td><td class="left">Wexford</td></tr>
<tr><td class="left">Laoghis</td><td class="left">Carlow</td></tr>
<tr><td class="left">Laoghis</td><td class="left">Kildare</td></tr>
<tr><td class="left">Laoghis</td><td class="left">Kilkenny</td></tr>
<tr><td class="left">Laoghis</td><td class="left">Offaly</td></tr>
<tr><td class="left">Laoghis</td><td class="left">Tipperary</td></tr>
<tr><td class="left">Leitrim</td><td class="left">Cavan</td></tr>
<tr><td class="left">Leitrim</td><td class="left">Donegal</td></tr>
<tr><td class="left">Leitrim</td><td class="left">Longford</td></tr>
<tr><td class="left">Leitrim</td><td class="left">Roscommon</td></tr>
<tr><td class="left">Leitrim</td><td class="left">Sligo</td></tr>
<tr><td class="left">Limerick</td><td class="left">Clare</td></tr>
<tr><td class="left">Limerick</td><td class="left">Cork</td></tr>
<tr><td class="left">Limerick</td><td class="left">Kerry</td></tr>
<tr><td class="left">Limerick</td><td class="left">Tipperary</td></tr>
<tr><td class="left">Longford</td><td class="left">Cavan</td></tr>
<tr><td class="left">Longford</td><td class="left">Leitrim</td></tr>
<tr><td class="left">Longford</td><td class="left">Roscommon</td></tr>
<tr><td class="left">Longford</td><td class="left">Westmeath</td></tr>
<tr><td class="left">Louth</td><td class="left">Meath</td></tr>
<tr><td class="left">Louth</td><td class="left">Monaghan</td></tr>
<tr><td class="left">Mayo</td><td class="left">Galway</td></tr>
<tr><td class="left">Mayo</td><td class="left">Roscommon</td></tr>
<tr><td class="left">Mayo</td><td class="left">Sligo</td></tr>
<tr><td class="left">Meath</td><td class="left">Cavan</td></tr>
<tr><td class="left">Meath</td><td class="left">Dublin</td></tr>
<tr><td class="left">Meath</td><td class="left">Kildare</td></tr>
<tr><td class="left">Meath</td><td class="left">Louth</td></tr>
<tr><td class="left">Meath</td><td class="left">Monaghan</td></tr>
<tr><td class="left">Meath</td><td class="left">Offaly</td></tr>
<tr><td class="left">Meath</td><td class="left">Westmeath</td></tr>
<tr><td class="left">Monaghan</td><td class="left">Cavan</td></tr>
<tr><td class="left">Monaghan</td><td class="left">Louth</td></tr>
<tr><td class="left">Monaghan</td><td class="left">Meath</td></tr>
<tr><td class="left">Offaly</td><td class="left">Galway</td></tr>
<tr><td class="left">Offaly</td><td class="left">Kildare</td></tr>
<tr><td class="left">Offaly</td><td class="left">Laoghis</td></tr>
<tr><td class="left">Offaly</td><td class="left">Meath</td></tr>
<tr><td class="left">Offaly</td><td class="left">Roscommon</td></tr>
<tr><td class="left">Offaly</td><td class="left">Tipperary</td></tr>
<tr><td class="left">Offaly</td><td class="left">Westmeath</td></tr>
<tr><td class="left">Roscommon</td><td class="left">Galway</td></tr>
<tr><td class="left">Roscommon</td><td class="left">Leitrim</td></tr>
<tr><td class="left">Roscommon</td><td class="left">Longford</td></tr>
<tr><td class="left">Roscommon</td><td class="left">Mayo</td></tr>
<tr><td class="left">Roscommon</td><td class="left">Offaly</td></tr>
<tr><td class="left">Roscommon</td><td class="left">Sligo</td></tr>
<tr><td class="left">Roscommon</td><td class="left">Westmeath</td></tr>
<tr><td class="left">Sligo</td><td class="left">Leitrim</td></tr>
<tr><td class="left">Sligo</td><td class="left">Mayo</td></tr>
<tr><td class="left">Sligo</td><td class="left">Roscommon</td></tr>
<tr><td class="left">Tipperary</td><td class="left">Clare</td></tr>
<tr><td class="left">Tipperary</td><td class="left">Cork</td></tr>
<tr><td class="left">Tipperary</td><td class="left">Galway</td></tr>
<tr><td class="left">Tipperary</td><td class="left">Kilkenny</td></tr>
<tr><td class="left">Tipperary</td><td class="left">Laoghis</td></tr>
<tr><td class="left">Tipperary</td><td class="left">Limerick</td></tr>
<tr><td class="left">Tipperary</td><td class="left">Offaly</td></tr>
<tr><td class="left">Tipperary</td><td class="left">Waterford</td></tr>
<tr><td class="left">Waterford</td><td class="left">Cork</td></tr>
<tr><td class="left">Waterford</td><td class="left">Kilkenny</td></tr>
<tr><td class="left">Waterford</td><td class="left">Tipperary</td></tr>
<tr><td class="left">Waterford</td><td class="left">Wexford</td></tr>
<tr><td class="left">Westmeath</td><td class="left">Cavan</td></tr>
<tr><td class="left">Westmeath</td><td class="left">Longford</td></tr>
<tr><td class="left">Westmeath</td><td class="left">Meath</td></tr>
<tr><td class="left">Westmeath</td><td class="left">Offaly</td></tr>
<tr><td class="left">Westmeath</td><td class="left">Roscommon</td></tr>
<tr><td class="left">Wexford</td><td class="left">Carlow</td></tr>
<tr><td class="left">Wexford</td><td class="left">Kilkenny</td></tr>
<tr><td class="left">Wexford</td><td class="left">Waterford</td></tr>
<tr><td class="left">Wexford</td><td class="left">Wicklow</td></tr>
<tr><td class="left">Wicklow</td><td class="left">Carlow</td></tr>
<tr><td class="left">Wicklow</td><td class="left">Dublin</td></tr>
<tr><td class="left">Wicklow</td><td class="left">Kildare</td></tr>
<tr><td class="left">Wicklow</td><td class="left">Wexford</td></tr>
</tbody>
</table>

</div>
</div>
</div>


<p></body>
</html></p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/spatial dependence" title="spatial dependence" rel="category tag">spatial dependence</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2013/04/timeseries-with-spatial-lag/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Sat Apr 06 00:00:00 +1100 2013">06 Apr 2013</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2013/04/reflections-bob-haining/" title="Reflections on Spatial Regression Class with Prof Bob Haining" rel="bookmark">Reflections on Spatial Regression Class with Prof Bob Haining</a>
    </h1>
    <div class="entry-content full-content">
      <p><head>
<title>Reflections on a class with Prof Bob Haining</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="title" content="Reflections on a class with Prof Bob Haining"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-04-05"/>
<meta name="author" content="ivan hanigan"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/></p>



<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>


<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>


<p></head>
<body></p>

<div id="preamble">

</div>




<div id="content">
<!-- <h1 class="title">Reflections on a class with Prof Bob Haining</h1> -->


<!-- <div id="table-of-contents"> -->
<!-- <h2>Table of Contents</h2> -->
<!-- <div id="text-table-of-contents"> -->
<!-- <ul> -->
<!-- <li><a href="#sec-1">1 Introduction</a></li> -->
<!-- <li><a href="#sec-2">2 The Spatial Error Model</a></li> -->
<!-- <li><a href="#sec-3">3 The Spatial Lag Model</a></li> -->
<!-- <li><a href="#sec-4">4 Spatially Lagged Independent Variable(s)</a></li> -->
<!-- <li><a href="#sec-5">5 Discussion</a> -->
<!-- <ul> -->
<!-- <li><a href="#sec-5-1">5.1 How to decide which model to fit?</a></li> -->
<!-- </ul> -->
<!-- </li> -->
<!-- <li><a href="#sec-6">6 Conclusion</a></li> -->
<!-- </ul> -->
<!-- </div> -->
<!-- </div> -->

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">

<p>I recently attended a class on spatial regression with Prof Bob
Haining.  He described the issue of spatially correlated errors and
the problems this poses in spatial regression.
</p>
<p>
The key issue is that spatial data often violates the assumption in
regression models that the errors are independent. 
</p>
<p>
A simple regression model applied to spatial data based on ZONES:
</p>


\(Y_{i} = \beta_{0} + ZONE_{i} + \beta_{1} X_{1i} + e_{i}\)

<p>
But with spatial data it is likely that the errors are spatially
correlated.  This is likely to mean the point estimate of beta 1 is OK
but the Standard Error is wrong.
</p>
<p>
This might be due to the scale of the study units, which may not
capture the variation of exposure and outcome adequately. Or there
might be unmeasured explanatory variables that have not been accounted
for.
</p>
<p>
I am mostly concerned with EXPLANATORY modelling in which a particular
exposure of interest is to be assessed.  Examples include a weather
variable (temperature), an air pollutant (PM10) or some measure of
socio-economic deprivation in an area (SEIFA scores in Australian
census data).  In these models I tend to include a number of
'nuisance' parameters to control for confounding; or interaction terms
to account for effect modification.  In this type of model the
performance of the model over-all is not that important, I just want
to control for the most important confounders so that my estimate of
the exposure of interest is as rigorous as possible.
</p>
<p>
Therefore the problem that spatially correlated errors pose for these models is
slightly different to that which affects models aimed at PREDICTION: I
am not concerned so much with the model's fit to the data, rather the
confidence around the point-estimate of the parameter for the exposure
of interest.
</p>
<p>
Simplistically I took away the following messages:
</p>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> The Spatial Error Model</h2>
<div class="outline-text-2" id="text-2">

<p>So we could model allowing for correlated errors:
</p>


\(Y_{i} = \beta_{0} + ZONE_{i} + \beta_{1} X_{1i} + \eta_{i}\)

<p>
Where:
</p>
<p>
\(\eta_{i}\) = Spatially autocorrelated errors.
</p>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> The Spatial Lag Model</h2>
<div class="outline-text-2" id="text-3">

<p>Or we could include a term for the neighbours, thus absorbing the correlated errors:
</p>


\(Y_{i} = \beta_{0} + ZONE_{i} + \beta_{1} X_{1i} + \rho(Neighbours Y_{ij}) + e_{i}\)

<p>
Where:
</p>
<p>
\(\rho_(Neighbours Y_{ij})\) = is an additional explanatory variable which is the value of the dependent variable in neighbouring areas. 
</p>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Spatially Lagged Independent Variable(s)</h2>
<div class="outline-text-2" id="text-4">

<p>This is almost a variation of the spatial lag model, except that we
include a term for the exposure variable in the neighbours, and
therefore 'smooth' the effect of the exposure from what was observed
in any area to make it relevant to it's neighbours as well:
</p>


\(Y_{i} = \beta_{0} + ZONE_{i} + \beta_{1} X_{1i} + \beta_{2L} X_{2ij} + e_{i}\)

<p>
Where:
</p>
<p>
\(\beta_{2L} X_{2ij}\) = is the independent variable X2 that is spatially lagged.
</p>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Discussion</h2>
<div class="outline-text-2" id="text-5">


</div>

<div id="outline-container-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> How to decide which model to fit?</h3>
<div class="outline-text-3" id="text-5-1">

<p>So the burning question is how to choose between the various spatial
models? Prof Haining had some suggestions, but he noted that sometimes
two could be equally appropriate.  He suggested that the spatial lag
model makes the strong assumption that there is a relationship between
the outcome in a neighbouring area with the index zone.  This suggests
some kind of contagion or dispersion effect.  He was not keen to fit
this model in circumstances where the causal mechanism did not support
such a relationship, suggesting the spatially weighted error model was
more suited, but that "in practice they often give the same result".
</p>
<p>
In my situation where I am not concerned with the actual
autocorrelation but with tightening up the standard error on my
exposure of interest, I think I might plead forgiveness and try
fitting the spatial lag model as it seems easier.
</p>
</div>
</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Conclusion</h2>
<div class="outline-text-2" id="text-6">

<p>Stay tuned.
</p>
</div>
</div>
</div>


<p></body>
</html></p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/spatial dependence" title="spatial dependence" rel="category tag">spatial dependence</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2013/04/reflections-bob-haining/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Fri Apr 05 00:00:00 +1100 2013">05 Apr 2013</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2012/09/software-ism/" title="software-ism" rel="bookmark">software-ism</a>
    </h1>
    <div class="entry-content full-content">
      <p>I am a huge fan of the R language for statistics and graphics.</p>

<p>I sometimes hear people say they don't like R but then admit that they have never tried to use it, or if they have it was close to ten years ago (and a lot has changed).</p>

<p>In recent discussions at work I got the impression some people have got a bit predjudiced against R and other software that they don't actually use, primarily because of the added difficulty of software that requires a bit of programming.</p>

<p>I think that multi-disciplinary work will inevitably mean we find a mix of software in use, and they'll all have strengths and weaknesses.  A major strength of R is that one can weave together a report that includes the data, code, graphs and interpretations for an analysis, rather than copy-and-pasting these elements together as is required with other software toolboxes.</p>

<p>For example a simple analysis in Rstudio using the 'R Markdown document' is below.</p>

<p>You can load and explore data in the document by placing 'Code Chunks' in the document, then when you click the <strong>Knit HTML</strong> button a web page will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:</p>

<hr />

<pre><code>summary(cars)
</code></pre>

<hr />

<table>
<thead>
<tr>
<th> speed </th>
<th> dist </th>
</tr>
</thead>
<tbody>
<tr>
<td> Min.   : 4.0 </td>
<td> Min.   :  2.00</td>
</tr>
<tr>
<td> 1st Qu.:12.0 </td>
<td> 1st Qu.: 26.00</td>
</tr>
<tr>
<td> Median :15.0 </td>
<td> Median : 36.00</td>
</tr>
<tr>
<td> Mean   :15.4 </td>
<td> Mean   : 42.98</td>
</tr>
<tr>
<td> 3rd Qu.:19.0 </td>
<td> 3rd Qu.: 56.00</td>
</tr>
</tbody>
</table>


<h2>| Max.   :25.0 | Max.   :120.00  </h2>

<p>You can also embed plots, for example:</p>

<hr />

<pre><code>plot(cars)
</code></pre>

<hr />

<p><img src="/images/unnamed-chunk-2.png" alt="plot of chunk unnamed-chunk-2" /></p>

<p>I hope we can work toward a kind of 'tower of babel'.</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/workflow" title="workflow" rel="category tag">workflow</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2012/09/software-ism/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Sat Sep 15 00:00:00 +1000 2012">15 Sep 2012</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2012/07/the-ecological-fallacy-is-itself-a-fallacy/" title="The Ecological Fallacy is Itself a Fallacy" rel="bookmark">The Ecological Fallacy is Itself a Fallacy</a>
    </h1>
    <div class="entry-content full-content">
      <h2>The Ecological Fallacy</h2>

<p>The term 'Ecological fallacy' is used in Epidemiology and some other disciplines (such as Sociology) to refer to <a href="http://www.springer.com/medicine/book/978-1-4419-1004-2" title="Marc Gellman, J. Rick Turner. Encyclopedia of Behavioral Medicine Springer, 2012.">improperly inferring a causal association (or lack of association) at an individual-level based on a group-level relationship</a>. This use of the word ecological is at odds with the alternative use of the word in the discipline of Ecology.  <a href="http://cup.columbia.edu/book/978-0-231-06919-9/toward-a-unified-ecology" title="Timothy F. H. Allen, Thomas W. Hoekstra. Toward a unified ecology. Columbia University Press, 1993.">Ecological methods from Ecology are inherently multi-scaled</a> and address precisely the issue of this cross-scale inferential fallacy.</p>

<p>I argue that a broader understanding of ecological methods by non-Ecologists would be a start towards better understanding between the disciplines.  The inclusion of real ecological methods in the other disciplines will also assist research to better understand the causes and effects of climate and climate change which are important gaps in knowledge needed to enable mitigation and adaptation of our society to future climate change.</p>

<h2>Sociology</h2>

<p>To clear up this confusion it is necessary to go back to the source of the use of the term 'ecological' by the urban sociologist Amos Hawley who used the term 'human ecology' in the 1950s to build on the theoretical traditions of <a href="http://books.google.com.au/books?id=PCBWr5UySs8C&amp;dq=Meade%20and%20Earickson%202000%20medical%20geography&amp;source=gbs_book_other_versions" title="Melinda S. Meade, Robert J. Earickson Medical Geography. Guilford Press 2005.">Robert Parke and E. W. Burgess at the University of Chicago in the 1920s on the structure and development of cities</a>. His influence in the Social Sciences led directly to the development a tradition of social human ecology, one largely without a bio-physical environment.  The usage of 'ecological' to mean multivariate studies of complex systems stems from the sociological tradition.</p>

<h2>Ecology</h2>

<p>The term 'ecology' used in the Ecology discipline <a href="http://en.wikipedia.org/wiki/Ecology" title="Wikipedia">dates back to the 1870s</a>, coined by German zoologist Ernst Haeckel (1834-1919) as Oekologie from Greek 'oikos' for house, dwelling place, habitation and 'logia' study of, then at the turn of the century the term became spelt 'oecology', which grew into 'ecology' in the early part of the 1900s.</p>

<h2>Epidemiology</h2>

<p>In epidemiology the term 'ecological study' is used to refer to studies where observations are taken at the level of a group (such as a country, school, or hospital) rather than at the individual <a href="http://www.springer.com/medicine/book/978-1-4419-1004-2" title="Marc Gellman, J. Rick Turner. Encyclopedia of Behavioral Medicine Springer, 2012.">(such as patient) level</a>.  It is well known though that when risk factors and outcomes are measured at an aggregate level, the relationship between the group-level variables may be different than the relationship between variables <a href="http://en.wikipedia.org/wiki/Modifiable_areal_unit_problem" title="Openshaw, S. (1984). The Modifiable Areal Unit Problem. Norwich: Geo Books. ISBN 0-86094-134-5.">measured at the individual level</a>. An often cited example used to illustrate the issue involved a 19th century study which found higher suicide rates within Prussian provinces that had <a href="http://books.google.com.au/books?hl=en&amp;lr=&amp;id=v23YleX1UskC&amp;oi=fnd&amp;pg=PA9&amp;dq=durkheim&amp;ots=sXTEH3naVk&amp;sig=ycS5kkxwSUA_gA84ts3iXrYNStI#v=onepage&amp;q&amp;f=false" title="Durkheim, E. (1951). Suicide: A study in sociology (Spaulding &amp; Simpson, trans.). Glencoe, IL: Free Press.(Original Work Published 1897).">higher proportions of Protestant residents</a>. The conclusion that Protestant individuals (rather than Catholic individuals) were more likely to commit suicide <a href="http://www.ncbi.nlm.nih.gov/pubmed/7137430" title="Morgenstern, H. (1982). Uses of ecologic analysis in epidemiologic research. American Journal of Public Health, 72(12)">cannot be inferred based on the observed association among the provinces</a>. One possible scenario is that Catholic residents within the largely Protestant provinces had the high suicide rates, resulting in a positive association between percent Protestant and suicide rate <a href="http://ije.oxfordjournals.org/content/early/2011/05/24/ije.dyr081.full" title="Robinson, W.S. (1950). Ecological Correlations and the Behavior of Individuals. American Sociological Review (American Sociological Review, Vol. 15, No. 3) 15 (3): 351???357.">8</a>. Extrapolation of aggregate results to individuals is a mistake in logic <a href="http://ije.oxfordjournals.org/content/early/2011/05/24/ije.dyr081.full" title="Robinson, W. S. (2009). Ecological correlations and the behavior of individuals. International Journal of Epidemiology, 38(2)">9</a> which can lead to a potentially misleading conclusion <a href="http://ije.oxfordjournals.org/content/early/2011/05/24/ije.dyr081.full" title="Grotenhuis, Manfred, Rob Eisinga, and SV Subramanian. Robinson's Ecological Correlations and the Behavior of Individuals: methodological corrections. International journal of epidemiology 40, no. 4 2011: 1123-5.">10</a>.</p>

<p>Because of this limitation 'ecologic studies' are often scorned in epidemiology as inferior and only useful for exploratory or hypothesis-generating studies rather than as confirmatory.  I argue to the contrary that there is the potential for a revolution in our ability to understand causal influences operating at multiple scales of space and time if we were to conduct truly 'ecological studies'.</p>

<h2>Quantitative Geography</h2>

<p>There is also a closely related concept that should be noted.  That of the Modifiable Areal Unit Problem <a href="http://en.wikipedia.org/wiki/Modifiable_areal_unit_problem" title="Openshaw, S. (1984). The Modifiable Areal Unit Problem. Norwich: Geo Books. ISBN 0-86094-134-5.">(MAUP)</a> as discussed in quantitative geography.  There is a large amount of geographical literature on the MAUP.  In this problem domain areal units (also called zones, regions, areas or polygons) inherently pose three problems to a researcher attempting to infer causal associations: scale, zonal and temporal:</p>

<ul>
<li>Scale; this issues is evident in the example above where phenomena investigated using data viewed at one scale may appear quite different (even opposite) using data aggregated at a different scale.</li>
<li>Zonal; the zonal problem appears where phenomena investigated using data viewed using two sets of differing areas at a single scale can differ.</li>
<li>Temporal; a third problem arises when analyzing data on modifiable areas when people keep modifying them by redrawing the boundaries over time.</li>
</ul>


<h2>In Conclusion</h2>

<p>The term 'Ecological Fallacy' is itself a fallacy and non-Ecologists should be made aware of the existence of alternative ecologic methods from Ecology.  This would be a start towards better understanding between the disciplines and enhance our abilities to mitigate and adapt to climate change.</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/ecology" title="ecology" rel="category tag">ecology</a>
      
      <a href="/categories/epidemiology" title="epidemiology" rel="category tag">epidemiology</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2012/07/the-ecological-fallacy-is-itself-a-fallacy/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Mon Jul 09 00:00:00 +1000 2012">09 Jul 2012</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>


<div class="pagination">
  <span class="previous">
    
      
      <a href="/page10/" title="Previous Page">&laquo; Previous</a>
      
    
  </span>
  <span class="next">
    
    <a href="/page12/" title="Next Page">Next &raquo;</a>
    
  </span>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=SChamberlain"></script>

        </div>
        <div id="sidebar">
          <div id="carrington-subscribe" class="widget">
            <h2 class="widget-title">Subscribe</h2>
            <a class="feed alignright" title="RSS 2.0 feed for posts" rel="alternate" href="http://feeds.feedburner.com/Disentanglethings">
              <img src="/images/rss-button.gif" alt="latest posts" title="latest posts">
            </a>
          </div>
          <div id="carrington-about" class="widget">
            <div class="about">
              <h2 class="widget-title">About</h2>
              <p>My name is Ivan Hanigan.  I am a data manager and part-time student at the Australian National University.</p>
              <a class="more" href="/about.html">more →</a>
            </div>
          </div>
          <!--
          	<p>
              <a href="http://ropensci.org/">
                <img src="/images/ropensci.png">
              </a>
        	</p>
			-->
			<!--
          <div id="carrington-link" class="widget">
          	<a href="http://ropensci.org/">
            <img src="/images/ropensci.png">
          </div>
          	-->
          
          <div id="primary-sidebar">
            <div class="widget">
              <h2 class="widget-title">Categories</h2>
              <ul>
<!-- <li> -->
<!--               <a class="workflow" href="/categories/workflow.html">workflow</a> -->
<!-- </li> -->
                
                <li><a href="/categories/workflow">workflow (4)</a></li>
                
                <li><a href="/categories/disentangle causality">disentangle causality (1)</a></li>
                
                <li><a href="/categories/data science">data science (1)</a></li>
                
                <li><a href="/categories/epidemiology">epidemiology (1)</a></li>
                
                <li><a href="/categories/disentangle things">disentangle things (3)</a></li>
                
                <li><a href="/categories/links">links (1)</a></li>
                
                <li><a href="/categories/graphviz">graphviz (1)</a></li>
                
                <li><a href="/categories/python">python (2)</a></li>
                
                <li><a href="/categories/drought">drought (2)</a></li>
                
                <li><a href="/categories/ranalyticflow">ranalyticflow (1)</a></li>
                
                <li><a href="/categories/reproducibility">reproducibility (2)</a></li>
                
                <li><a href="/categories/extreme weather events">extreme weather events (2)</a></li>
                
                <li><a href="/categories/tree-based methods">tree-based methods (1)</a></li>
                
                <li><a href="/categories/pumilio-bushfm">pumilio-bushfm (3)</a></li>
                
                <li><a href="/categories/notebook">notebook (1)</a></li>
                
                <li><a href="/categories/animation">animation (1)</a></li>
                
                <li><a href="/categories/spatial">spatial (2)</a></li>
                
                <li><a href="/categories/spatial dependence">spatial dependence (10)</a></li>
                
                <li><a href="/categories/kepler">kepler (1)</a></li>
                
                <li><a href="/categories/projecttemplate">projecttemplate (1)</a></li>
                
                <li><a href="/categories/make">make (1)</a></li>
                
                <li><a href="/categories/surveytools">surveytools (1)</a></li>
                
                <li><a href="/categories/open notebook">open notebook (1)</a></li>
                
                <li><a href="/categories/suicide">suicide (1)</a></li>
                
                <li><a href="/categories/climate change">climate change (1)</a></li>
                
                <li><a href="/categories/packages">packages (1)</a></li>
                
                <li><a href="/categories/jekyll">jekyll (2)</a></li>
                
                <li><a href="/categories/research methods">research methods (12)</a></li>
                
                <li><a href="/categories/ons">ons (1)</a></li>
                
                <li><a href="/categories/outlines">outlines (1)</a></li>
                
                <li><a href="/categories/gisviz">gisviz (1)</a></li>
                
                <li><a href="/categories/disentangle">disentangle (2)</a></li>
                
                <li><a href="/categories/surveys">surveys (1)</a></li>
                
                <li><a href="/categories/rates theory">rates theory (1)</a></li>
                
                <li><a href="/categories/climatic and agricultural drought">climatic and agricultural drought (3)</a></li>
                
                <li><a href="/categories/data documentation">data documentation (12)</a></li>
                
                <li><a href="/categories/replication">replication (1)</a></li>
                
                <li><a href="/categories/opinion">opinion (1)</a></li>
                
                <li><a href="/categories/systems">systems (1)</a></li>
                
                <li><a href="/categories/tools">tools (1)</a></li>
                
                <li><a href="/categories/me">me (3)</a></li>
                
                <li><a href="/categories/overview">overview (4)</a></li>
                
                <li><a href="/categories/wordpress">wordpress (1)</a></li>
                
                <li><a href="/categories/blogger">blogger (1)</a></li>
                
                <li><a href="/categories/thoughts">thoughts (3)</a></li>
                
                <li><a href="/categories/energymark">energymark (1)</a></li>
                
                <li><a href="/categories/blogging">blogging (1)</a></li>
                
                <li><a href="/categories/awap grids">awap grids (1)</a></li>
                
                <li><a href="/categories/orgmode">orgmode (1)</a></li>
                
                <li><a href="/categories/modelling">modelling (1)</a></li>
                
                <li><a href="/categories/versions">versions (1)</a></li>
                
                <li><a href="/categories/r/sweave">r/sweave (1)</a></li>
                
                <li><a href="/categories/concordance">concordance (1)</a></li>
                
                <li><a href="/categories/ecology">ecology (1)</a></li>
                
                <li><a href="/categories/gis">gis (1)</a></li>
                
                <li><a href="/categories/organising">organising (2)</a></li>
                
              </ul>
            </div>
          </div>
          <div id="secondary-sidebar">
            <div class="widget">
              <h2 class="widget-title">Recent Posts</h2>
              <ul>
                
                <li>
                  <a href="/2013/12/graphviz-automagic-flowcharts/" title="graphviz-automagic-flowcharts" rel="bookmark">graphviz-automagic-flowcharts</a>
                </li>
                
                <li>
                  <a href="/2013/11/sharing-and-extending-research-protocols/" title="sharing-and-extending-research-protocols" rel="bookmark">sharing-and-extending-research-protocols</a>
                </li>
                
                <li>
                  <a href="/2013/11/our-paper-is-out-heat-health-warning-systems/" title="our-paper-is-out-heat-health-warning-systems" rel="bookmark">our-paper-is-out-heat-health-warning-systems</a>
                </li>
                
                <li>
                  <a href="/2013/11/guest-post-by-marco-fahmi-why-morpho/" title="guest-post-by-marco-fahmi-why-morpho" rel="bookmark">guest-post-by-marco-fahmi-why-morpho</a>
                </li>
                
                <li>
                  <a href="/2013/11/a-sharp-looking-orgmode-latex-export-header/" title="a-sharp-looking-orgmode-latex-export-header" rel="bookmark">a-sharp-looking-orgmode-latex-export-header</a>
                </li>
                
                <li>
                  <a href="/2013/11/setting-up-a-workflow-with-code-chunks/" title="Setting Up A Workflow Script With Code Chunks" rel="bookmark">Setting Up A Workflow Script With Code Chunks</a>
                </li>
                
                <li>
                  <a href="/2013/11/sync-endnote-and-mendeley-using-r-xml/" title="sync-endnote-and-mendeley-references-using-r-xml" rel="bookmark">sync-endnote-and-mendeley-references-using-r-xml</a>
                </li>
                
                <li>
                  <a href="/2013/11/git-can-be-simple-or-very-complicated/" title="git-can-be-simple-or-very-complicated" rel="bookmark">git-can-be-simple-or-very-complicated</a>
                </li>
                
                <li>
                  <a href="/2013/11/nectar-cloud-pumilio-build-got-bogged-down/" title="nectar cloud pumilio build got bogged down" rel="bookmark">nectar cloud pumilio build got bogged down</a>
                </li>
                
                <li>
                  <a href="/2013/11/really-useful-r-upcase-string/" title="really-useful-r-upcase-string" rel="bookmark">really-useful-r-upcase-string</a>
                </li>
                
                <li>
                  <a href="/2013/11/pumilio-bushfm-test-dev-prod/" title="pumilio-bushfm-test-dev-prod" rel="bookmark">pumilio-bushfm-test-dev-prod</a>
                </li>
                
                <li>
                  <a href="/2013/11/what-do-scientists-who-write-metadata-use-to-do-it-and-why/" title="What Do Scientists Who Write Metadata Use To Do It? And Why?" rel="bookmark">What Do Scientists Who Write Metadata Use To Do It? And Why?</a>
                </li>
                
                <li>
                  <a href="/2013/11/librarians-and-python/" title="librarians-and-python" rel="bookmark">librarians-and-python</a>
                </li>
                
                <li>
                  <a href="/2013/11/handling-survey-data-with-r/" title="handling-survey-data-with-r" rel="bookmark">handling-survey-data-with-r</a>
                </li>
                
                <li>
                  <a href="/2013/11/github-and-reproducible-research-report-casestudy-hutchinson-drought-index/" title="Github And Reproducible Research Report Casestudy Hutchinson Drought Index" rel="bookmark">Github And Reproducible Research Report Casestudy Hutchinson Drought Index</a>
                </li>
                
                <li>
                  <a href="/2013/11/climatic-drought-guestpost-by-luciana-porfirio/" title="climatic-drought-guestpost-by-luciana-porfirio" rel="bookmark">climatic-drought-guestpost-by-luciana-porfirio</a>
                </li>
                
                <li>
                  <a href="/2013/10/quantum-gis-visualisations/" title="quantum-gis-visualisations" rel="bookmark">quantum-gis-visualisations</a>
                </li>
                
                <li>
                  <a href="/2013/10/notes-on-spatial-stats-meeting-with-sarunya-sujaritpong/" title="notes-on-spatial-stats-meeting-with-sarunya-sujaritpong" rel="bookmark">notes-on-spatial-stats-meeting-with-sarunya-sujaritpong</a>
                </li>
                
                <li>
                  <a href="/2013/10/if-disease-incidence-varies-with-age-control-for-it/" title="if-disease-incidence-varies-with-age-control-for-it" rel="bookmark">if-disease-incidence-varies-with-age-control-for-it</a>
                </li>
                
                <li>
                  <a href="/2013/10/morpho-and-reml-streamline-the-process-of-metadata-entry/" title="morpho-and-reml-boilerplate-streamline-the-process-of-metadata-entry" rel="bookmark">morpho-and-reml-boilerplate-streamline-the-process-of-metadata-entry</a>
                </li>
                
                <li>
                  <a href="/2013/10/counting-number-of-consecutive-months-in-drought/" title="counting-number-of-consecutive-months-in-drought" rel="bookmark">counting-number-of-consecutive-months-in-drought</a>
                </li>
                
                <li>
                  <a href="/2013/10/spatial-lag-and-timeseries-model-with-nmmaps/" title="spatial-lag-and-timeseries-model-with-nmmaps" rel="bookmark">spatial-lag-and-timeseries-model-with-nmmaps</a>
                </li>
                
                <li>
                  <a href="/2013/10/extract-weather-data-from-awap-grids/" title="Daintree Rainforest Observatory Climate Data from AWAP-GRIDS" rel="bookmark">Daintree Rainforest Observatory Climate Data from AWAP-GRIDS</a>
                </li>
                
                <li>
                  <a href="/2013/10/document-first-ask-questions-later/" title="document-first-ask-questions-later" rel="bookmark">document-first-ask-questions-later</a>
                </li>
                
                <li>
                  <a href="/2013/10/challenger-logistic/" title="A Great Intro 2 Logistic Regression" rel="bookmark">A Great Intro 2 Logistic Regression</a>
                </li>
                
                <li>
                  <a href="/2013/10/spatially-structured-time-series-with-nmmaps/" title="spatially-structured-time-series-with-nmmaps" rel="bookmark">spatially-structured-time-series-with-nmmaps</a>
                </li>
                
                <li>
                  <a href="/2013/10/morpho-and-rfigshare/" title="morpho-and-rfigshare" rel="bookmark">morpho-and-rfigshare</a>
                </li>
                
                <li>
                  <a href="/2013/10/dc-uploader-and-ANU-DataCommons/" title="dc-uploader-and-ANU-DataCommons" rel="bookmark">dc-uploader-and-ANU-DataCommons</a>
                </li>
                
                <li>
                  <a href="/2013/10/reml-and-rfigshare-part-2/" title="reml-and-rfigshare-part-2" rel="bookmark">reml-and-rfigshare-part-2</a>
                </li>
                
                <li>
                  <a href="/2013/10/data-documentation-case-study-reml-and-rfigshare/" title="data-documentation-case-study-reml-and-rfigshare" rel="bookmark">data-documentation-case-study-reml-and-rfigshare</a>
                </li>
                
                <li>
                  <a href="/2013/10/two-main-types-of-data-documentation-workflow/" title="two-main-types-of-data-documentation-workflow" rel="bookmark">two-main-types-of-data-documentation-workflow</a>
                </li>
                
                <li>
                  <a href="/2013/10/wickhams-tidy-tools-only-get-you-90-pct-the-way/" title="wickhams-tidy-tools-only-get-you-90-pct-the-way" rel="bookmark">wickhams-tidy-tools-only-get-you-90-pct-the-way</a>
                </li>
                
                <li>
                  <a href="/2013/10/test-data-for-classification-trees/" title="test-data-for-classification-trees" rel="bookmark">test-data-for-classification-trees</a>
                </li>
                
                <li>
                  <a href="/2013/10/simple-example-using-nmmaps/" title="simple-example-using-nmmaps" rel="bookmark">simple-example-using-nmmaps</a>
                </li>
                
                <li>
                  <a href="/2013/10/reviewing-lessons/" title="reviewing-lessons" rel="bookmark">reviewing-lessons</a>
                </li>
                
                <li>
                  <a href="/2013/09/spatially-structured-timeseries-vs-spatiotemporal-modelling/" title="spatially-structured-timeseries-vs-spatiotemporal-modelling" rel="bookmark">spatially-structured-timeseries-vs-spatiotemporal-modelling</a>
                </li>
                
                <li>
                  <a href="/2013/09/reflections-bob-haining-update/" title="reflections-bob-haining-update" rel="bookmark">reflections-bob-haining-update</a>
                </li>
                
                <li>
                  <a href="/2013/09/workflow-flowcharts-update/" title="workflow-flowcharts-update" rel="bookmark">workflow-flowcharts-update</a>
                </li>
                
                <li>
                  <a href="/2013/09/introduction-to-ons-theory-and-practice/" title="introduction-to-ons-theory-and-practice" rel="bookmark">introduction-to-ons-theory-and-practice</a>
                </li>
                
                <li>
                  <a href="/2013/09/using-orgmode-and-jekyll-for-open-notebook/" title="using-orgmode-and-jekyll-for-open-notebook" rel="bookmark">using-orgmode-and-jekyll-for-open-notebook</a>
                </li>
                
                <li>
                  <a href="/2013/09/transformational-adaptation/" title="transformational-adaptation" rel="bookmark">transformational-adaptation</a>
                </li>
                
                <li>
                  <a href="/2013/09/toward-a-unified-ecology-dataset/" title="toward-a-unified-ecology-dataset" rel="bookmark">toward-a-unified-ecology-dataset</a>
                </li>
                
                <li>
                  <a href="/2013/09/energymark/" title="energymark" rel="bookmark">energymark</a>
                </li>
                
                <li>
                  <a href="/2013/09/pumilio-bushfm-test-dev-prod/" title="pumilio-bushfm-test-dev-prod" rel="bookmark">pumilio-bushfm-test-dev-prod</a>
                </li>
                
                <li>
                  <a href="/2013/09/ons/" title="Starting my Open Notebook Science Blog" rel="bookmark">Starting my Open Notebook Science Blog</a>
                </li>
                
                <li>
                  <a href="/2013/07/worflow-flowcharts/" title="Worflow flowcharts" rel="bookmark">Worflow flowcharts</a>
                </li>
                
                <li>
                  <a href="/2013/07/animated-maps/" title="animated-maps" rel="bookmark">animated-maps</a>
                </li>
                
                <li>
                  <a href="/2013/06/spatio-temporal-animations/" title="spatio-temporal-animations" rel="bookmark">spatio-temporal-animations</a>
                </li>
                
                <li>
                  <a href="/2013/05/data-dredging/" title="Complex Model Selection (or Data Dredging)" rel="bookmark">Complex Model Selection (or Data Dredging)</a>
                </li>
                
                <li>
                  <a href="/2013/04/pioz-et-al-2012-model-selection/" title="Pioz et al 2012 model selection" rel="bookmark">Pioz et al 2012 model selection</a>
                </li>
                
              </ul>
              <div class="clear"></div>
            </div>
            <!--
            <div class="widget">
              <h2 class="widget-title">Archives</h2>
              <ul>
                
              </ul>
              <div class="clear"></div>
            </div>
            -->
          </div>
        </div>
      </div>
    </div>
    <div id="footer" class="section">
      <div class="wrapper">
        <a id="generator-link">
          Proudly powered by
          <a href="https://github.com/mojombo/jekyll" rel="generator">Jekyll</a>
          and
          <a href="http://carringtontheme.com" title="Carrington theme for WordPress">Carrington</a>
      </div>
      <div id="developer-link">
      </div>
    </div>
    <!--
	<a href="http://github.com/SChamberlain"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://assets2.github.com/img/e6bef7a091f5f3138b8cd40bc3e114258dd68ddf?repo=&url=http%3A%2F%2Fs3.amazonaws.com%2Fgithub%2Fribbons%2Fforkme_right_red_aa0000.png&path=" alt="Fork me on GitHub"></a>
	-->
    <script type="text/javascript">
      var disqus_shortname = 'disentanglethings';

      (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
    </script>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-28059658-1");
        pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
</html>
