<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Ivan Hanigan - Disentangle Things</title>
    <meta name="author" content="Ivan Hanigan" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/screen.css">
    <link href="http://feeds.feedburner.com/Disentanglethings" rel="alternate" title="RSS" type="application/rss+xml" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/jquery.github_v2.js"></script>
  </head>

  <body>


    <div id="header" class="section">
      <div class="wrapper">
        <strong id="blog-title">
          <a href="/" rel="home">Disentangle Things by Ivan Hanigan</a>
        </strong>
        <p id="blog-description"></p>
        <div id="navigation">
          <ul class="nav clearfix">
            <li> <a href="/blog/">Notes</a></li> 
            <li><a href="/research/">About Open Notebooks</a></li>
            <li><a href="/projects/">Projects</a></li>
            <li><a href="/cv/">CV</a></li>
            <li><a href="http://lmgtfy.com/?q=site%3Aivanhanigan.github.io">Search this Site</a></li> 
          </ul>
        </div>
      </div>
    </div>
    <div id="main" class="section">
      <div class="wrapper">
        <div id="content">
          <h2>Welcome to my Open Notebook</h2>
            <!--<li class="first-child"><a href="/research.html">About My Notebook</a></li>-->
            <!--<li><a href="/donors.html">Donors</a></li>-->
            <!-- <li><a href="/projects.html">Data</a></li> -->
            <!--<li><a href="/publications.html">Journal Publications</a></li>-->
<p>This is an Open Notebook with <a href="https://en.wikipedia.org/wiki/Open_notebook_science" target="new">Selected Content - Delayed</a>. All content is licenced with CC-BY. Find out more <a href="/research.html">Here</a>.</p>

<p>  <img src="/images/ONS-SCD.png" alt="ONS-SCD.png" /></p>

          <!-- AddThis Button BEGIN -->
<!-- <div class="addthis_toolbox addthis_default_style "> -->
<!--   <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a> -->
<!--   <a class="addthis_button_tweet"></a> -->
<!--   <a class="addthis_button_google_plusone" g:plusone:size="medium"></a> -->
<!--   <a class="addthis_counter addthis_pill_style"></a> -->
<!-- </div> -->
<!-- <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=SChamberlain"></script> -->
<!-- AddThis Button END -->

  <div class="full">
    <h1 class="entry-title">
      <a href="/2013/11/india-p1-sneha-suicide-prevention-chennai-india/" title="India Part 1. Society for Natal Effects on Health (SNEHA) Suicide Prevention, Chennai India" rel="bookmark">India Part 1. Society for Natal Effects on Health (SNEHA) Suicide Prevention, Chennai India</a>
    </h1>
    <div class="entry-content full-content">
      <h4>Introduction</h4>

<p>I was grateful to recieve the <a href="http://students.anu.edu.au/scholarships/gc/cur/dom/bhati.php">Bhati Family Travel Grant</a> which allowed me to travel to Chennai, India in October to meet with experts on Drought and Suicide there.  I wanted to go to India to help me with my work on <a href="http://www.pnas.org/content/109/35/13950">Farmer Suicide in Australia</a> primarily because I'd read about the excellent researchers there and also the large magnitude of the problem with farmer suicide and drought (it is in the news media quite regularly).</p>

<!-- Secondarily, I wanted to come back because I'd visited in 2005 for 3 weeks and was overwhelmed by the experience, possibly we tried to do to much and also we were mostly on the busy tourist track.  I wanted to see if a more local approach might give me a better experience of India.
-->


<p>I arrived on 2nd October and the airport and streets were pretty quiet.  I think because this is a public holiday in honour of Gandhi.</p>

<p>I had previously arranged to meet</p>

<ul>
<li>Dr L Vijayakumar founder of <a href="http://snehaindia.org/">Society for Natal Effects on Health - SNEHA</a> and</li>
<li>Dr A Nambi+, Director of the Climate Change Program and Dr R Rukmani, Director of the Food Security Program at <a href="http://www.mssrf.org/">M S Swaminathan Research Foundation - MSSRF</a>.</li>
</ul>


<p>This is my re-written notes of both meetings.</p>

<h4>First Meeting: 3rd October, Dr Lakshmi Vijayakumar</h4>

<p>Dr Lakshmi Vijayakumar is a WHO expert, a practicing psychiatrist and founder of the SNEHA suicide prevention organisation.</p>

<p><img src="/images/sneha-ad.jpg" alt="sneha-ad.jpg" /></p>

<p>When I contacted her to ask for a meeting she invited me to come to the headquarters of SNEHA in R A Puram, south central Chennai. The Autorickshaw driver took a couple of wrong turns but we got there OK after asking directions.  I also met Jyothi the SNEHA Director and several volunteers who work at the centre and befriend people who visit or phone with suicidal problems.</p>

<p><img src="/images/sneha-cropped.jpg" alt="sneha-cropped.jpg" /></p>

<!-- We met at 12 noon and we also had Dosai for lunch. -->


<!-- With us were Jyothi, Sumitra and a volunteer whose name I did not write down -->


<p>I had asked to visit because I've been following her research on farmer suicide prevention measures.  I suggested that my research on Drought-specific causality might benefit from insights that Dr Vijayakumar could give me, and thankfully she agreed to give me her time. I was very pleased she mentioned that she found my research "interesting and important" which is great because that is just the way I feel about HER research.</p>

<p>I reflected on my way to the meeting what I want to get out of this lesson and I felt that it was really important to get feedback on some of the directions I want to pursue in terms of a unified theoretical framework across environmental and social causes of suicide (generalised across diverse social situations like the differences between Australian and Indian Farmers).</p>

<p>I also felt it was important that I might just sit and listen to any advice Dr Vijayakumar felt like giving me, so I asked what she thought were the most important priorities for farmer suicide research in India.
I have been reflecting on the influence of Dr Vijayakumar's words had on me when I heard them on a Radio report by Australian Journalist Michael Condon <a href="www.google.com">Ref</a> when he came to India in 2009.</p>

<!-- TODO expand this. -->


<h4>My Secret Agenda</h4>

<p>I brought along a secret agenda which was to get an opinion of my preconceived thoughts about the topic.  Particularly the approach to a generalised framework of the work of my PhD supervisors Colin, Phil and Rohan for disentangling environmental from social impacts on health.  Especially this framework is for understanding tipping points in the farmer suicide system.  My second secret agenda was that if the framework I presented was thought OK, then what were the best next steps (plan for the future), in terms of communication in suicide prevention fields, actions in policy arenas and etc.</p>

<p>First: I presented the general framework.  The essence of this is the "Five Capitals":
- Financial
- Social
- Physical
- Natural
- Human</p>

<p>Phil and Rohan have developed approaches aimed at Rural Livelihoods and Adaptive Capacity of Farmers.  Colin had extended this even to the concept of Human Carrying Capacity.  I think this framework especially useful for tipping points because the causes of such catastrophes are undoubtedly numerous, interacting and dynamic.</p>

<p>So what did Lakshmi think?  She started by saying that it made good sense, that the main focus of suicide prevention work was focused on the biological, psychological and social domains.  But there are so many other factors.  Drought was clearly one.</p>

<p>She got out a map of the recent suicide rates and showed me a region of elevated risk north-west of Tamil Nadu, south of Chatinargarth, and north of Kerala.  60 percent of India's farmer suicides are in these states.  Why are these 3 states high but TN is not?  All are semi-arid.</p>

<!-- TODO check this -->


<p>All have similar societies, cultures, climates, agriculture, etc.  We tried fitting these to the five capitals framework.</p>

<!--
#### What do you think?
Dr Lakshmi said that this kind of thing did help to develop policy "definitely".
I asked how much extra help this gave if we knew that pesticides, alcohol and gun control were so important.  She replied that those were medium term policy solutions but long-term policies needed to look at social dynamics, farming and a whole lot of things like status change (owning land used to be a status symbol but now is a burden).

#### What are the priorities?
What secondary (surrogate) priorities emerge around the main points?  If I bring questions to the lesson are they answered by the presenter?  If not why?

- Synthesis:
My new understanding of the topic.

- TODO Mind map of the pathway to completed suicide.
-->  


<!-- <ul> -->


<!-- <li><a href="#sec-1">1 dev-table</a></li> -->


<!-- </ul> -->


<!-- </div> -->


<!-- </div> -->




<p><div id="outline-container-1" class="outline-3">
<h3 id="sec-1"><span class="section-number-3">1</span> dev-table</h3>
<div class="outline-text-3" id="text-1"></p>

<p><table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">Capital</th><th scope="col" class="left">Semi-arid suicide hotspot</th><th scope="col" class="left">Tamil Nadu</th></tr>
</thead>
<tbody>
<tr><td class="left">Financial</td><td class="left">move from rice/millet/polyculture</td><td class="left">remained polyculture</td></tr>
<tr><td class="left"></td><td class="left">into cashcrops, cotton, chilli</td><td class="left"></td></tr>
<tr><td class="left"></td><td class="left">with more pesticide, decreased access</td><td class="left"></td></tr>
<tr><td class="left"></td><td class="left">to local money lender and more reliance</td><td class="left"></td></tr>
<tr><td class="left"></td><td class="left">on international corporations</td><td class="left">retained local lending,</td></tr>
<tr><td class="left"></td><td class="left"></td><td class="left">more responsive to seasonal</td></tr>
<tr><td class="left"></td><td class="left"></td><td class="left">conditions</td></tr>
</tbody>
</table></p>

<p></div>
<!-- </div> -->
<!-- </div> -->
<!-- + Unfortunately Dr Nambi was out of action with a back injury but I was very lucky to have made an alternative contact in Dr R Rukmani, Director of the Food Security Program at MSSRF who had also researched Farmer Suicides.
--></p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/research methods" title="research methods" rel="category tag">research methods</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2013/11/india-p1-sneha-suicide-prevention-chennai-india/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="2013-11-15 00:00:00 +1100">15 Nov 2013</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2013/11/what-do-scientists-who-write-metadata-use-to-do-it-and-why/" title="What Do Scientists Who Write Metadata Use To Do It? And Why?" rel="bookmark">What Do Scientists Who Write Metadata Use To Do It? And Why?</a>
    </h1>
    <div class="entry-content full-content">
      <ul>
<li>The extent to which scientists write metadata is probably lower than it ought to be</li>
<li>The level of metadata written during science projects is probably described generally as 'bare-minimum' and "the minimum needed for one-self to come back to and understand what one did"</li>
<li>It sometimes seems that even the bare minimum for one-self is not being kept very often</li>
<li>I argue that the reasons for less-than-adequate metadata can be understood by looking at</li>
<li>1) the culture of the scienctists displinary background via training</li>
<li>2) the tools available and</li>
<li>3) institutional  requirements to produce metadata (both about data or access to data)</li>
<li>In my ongoing <a href="http://ivanhanigan.github.io/2013/10/two-main-types-of-data-documentation-workflow/">series of blog posts I am exploring the tools available</a>.</li>
<li>In this post I just wanted to start the discussion about discipline culture and institutional requirements.</li>
</ul>


<h3>Discipline Culture</h3>

<ul>
<li>I trained in Geography in the age of GIS and this community uses metadata a lot</li>
<li>Due to the prevalance of the digital map (collection of layers) which is a derivative data output</li>
<li>Need to know the source of all the layers</li>
<li>first law of GIS is "garbage in, garbage out"</li>
<li>I was trained in the ANSLIC standard from the start</li>
<li>ArcGIS has a tool called ArcCatalog which makes metadata easy to create and view</li>
</ul>


<h3>Institutional Requirements</h3>

<ul>
<li>The ARC and NHMRC say they are going to require more metadata (and even data deposit)</li>
<li>Restrictions on data access make it necessary to describe at least the metadata around provision agreements, licence, allowable access</li>
<li>A supporting management level who value the metadata as research output (alongside a peer reviewed paper metadata pales in comparison)</li>
<li>My old boss used to say "Work Not Published Is Work Not Done".</li>
</ul>


<h3>This reminds me of Approaches and Barriers to Reproducible Research</h3>

<ul>
<li>In 2011 BiostatMatt (Matt Shotwell) published <a href="http://biostatmatt.com/uploads/shotwell-interface-2011.pdf">a survey of biostatisticians</a>
VUMC Dept. of Biostatistics to assess:</li>
<li>the prevalence of fully scripted data analyses</li>
<li>the prevalence of literate programming practices</li>
</ul>


<p>To assess the perceived barriers to reproducible research the also asked:</p>

<pre><code>What The biggest obstacle to always reproducibly scripting your work?
</code></pre>

<p></p>


<pre><code>| Barrier                                                  | Staff | Faculty |
|----------------------------------------------------------+-------+---------|
| No signifcant obstacles.                                 |     8 |      10 |
| I havent learned how.                                    |     0 |       0 |
| It takes more time.                                      |     7 |       7 |
| It makes collaboration difficult (eg. file compatibility)|     4 |       2 |
| The software I use doesnt facilitate reproducibility.    |     0 |       0 |
| Its not always necessary for my work to be reproducible. |     2 |       0 |
| Other                                                    |     2 |       1 |
|----------------------------------------------------------+-------+---------|
</code></pre>

<h3>So what about the Approaches and Barriers to Me Writing Metadata?</h3>

<p>With a sample size of one I asked myself these questions:</p>

<pre><code>| Q                                                  | A                                                                    |
|----------------------------------------------------+----------------------------------------------------------------------|
| Do I fully document data (to a metadata standard?) | Occasionally, using DDI for high value raw inputs and final products |
| Do I employ data documentation practices           | I use a tool I created to write minimal metadata occasionally        |
| What are the main barriers?                        | takes more time, The software doesnt facilitate, not always necessary|
</code></pre>

<h3>Conclusions</h3>

<ul>
<li>The tools need to help write metadata

<ul>
<li>the Institution needs to require metadata</li>
</ul>
</li>
<li></li>
</ul>


<h3>References</h3>

<ul>
<li>Shotwell, M.S. and Alvarez, J.M. 2011. Approaches and Barriers to Reproducible Practices in Biostatistics.
http://biostatmatt.com/uploads/shotwell-interface-2011.pdf</li>
</ul>


      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/Data Documentation" title="Data Documentation" rel="category tag">Data Documentation</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2013/11/what-do-scientists-who-write-metadata-use-to-do-it-and-why/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="2013-11-06 00:00:00 +1100">06 Nov 2013</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2013/11/librarians-and-python/" title="librarians-and-python" rel="bookmark">librarians-and-python</a>
    </h1>
    <div class="entry-content full-content">
      <p>I stumbled on these posts about python and IPython Notebook by "Data Scientist Training for Librarians":</p>

<ul>
<li><a href="http://altbibl.io/dst4l/exploratory-data-analysis-and-statistics-using-pandas-and-matplotlib/">http://altbibl.io/dst4l/exploratory-data-analysis-and-statistics-using-pandas-and-matplotlib/</a></li>
<li><a href="http://altbibl.io/dst4l/pandas-munging-stats-and-visualization/">http://altbibl.io/dst4l/pandas-munging-stats-and-visualization/</a></li>
</ul>


<p>I;ve been wanting to learn more python.  I don't think it'll be ready for statistical modelling for a while, but I a want to be ready when it is.  You can get my ipython notebook file for this here: <a href="/data/olive.ipynb">olive.ipynb</a>, but first run the following R code snippet to get the replication dataset 'olive.csv' into your home directory.</p>

<h4>R Code: get the olive oil dataset</h4>

<pre><code>install.packages("pgmm")
require(pgmm)
data(olive)
names(olive) &lt;- tolower(names(olive))
str(olive)
write.csv(olive, "olive.csv", row.names = F)
# actualy home might be easier for ipython to access
write.csv(olive, "~/olive.csv", row.names = F)
</code></pre>

<p></p>


<h3>OK now reproduce the example</h3>

<p>I quite like the histograms from the second example.  Here is the raw code extracted from the ipynb</p>

<h4>Code:</h4>

<pre><code>%pylab inline
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import matplotlib.colors as colors

acidlist=['palmitic', 'palmitoleic', 'stearic', 'oleic', 'linoleic', 'linolenic', 'arachidic', 'eicosenoic']
dfsub=df[acidlist].apply(lambda x: x/100.0)
dfsub.head()

rkeys=[1,2,3]
rvals=['South','Sardinia','North']
rmap={e[0]:e[1] for e in zip(rkeys,rvals)}
rmap

fig, axes=plt.subplots(figsize=(10,20), nrows=len(acidlist), ncols=1) # sets up the framework for the graphs. Acidlist is defined elsewhere, and is a list of the acids we’re interested in.
i=0 # Sets a counter to 0

for ax in axes.flatten(): # Starts a loop to go through our plot and render each row

    acid=acidlist[i]
    seriesacid=df[acid] # creates seriesacid and sets it to df[acid], a list of the percent composition of the acid in the current iteration that’s in each olive oil.

    minmax=[seriesacid.min(), seriesacid.max()] # the minimum and maximum values plotted will be the minimum and maximum percentages that we find in the data

    for k,g in df.groupby('region'):  # starts a loop in the loop to plot the values by region
        style = {'histtype':'stepfilled', 'alpha':0.5, 'label':rmap[k], 'ax':ax}
        g[acid].hist(**style)

        ax.set_xlim(minmax)

        ax.set_title(acid)

        ax.grid(False)

        #construct legend
        ax.legend()
    i=i+1 # increments the counter, to move the loop on to the next acid.

    fig.tight_layout()
</code></pre>

<p></p>


<p><img src="/images/acid.png" alt="acid.png" /></p>

<h3>Conclusions</h3>

<ul>
<li>I am not sure how to do the transparency but the rest of it would make more sense to me with R</li>
<li>Will try to reproduce in R for head-to-head shoot out.</li>
<li>I also plan to look into the new <a href="http://trestletechnology.net/2013/11/ace-code-editor-in-shiny-shinyace/">shinyAce browser based R editor</a> for similar work</li>
<li>I'm still really enjoying Emacs Orgmode for this kind of functionality though and thoroughly recommend <a href="http://kieranhealy.org/resources/emacs-starter-kit.html">KJ Healy's starter kit</a></li>
<li>(I've installed and config thison Ubuntu, Windoze and Mac, but LaTeX and exporting R code can be tricky)</li>
</ul>


      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/Data Documentation" title="Data Documentation" rel="category tag">Data Documentation</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2013/11/librarians-and-python/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="2013-11-06 00:00:00 +1100">06 Nov 2013</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2013/11/handling-survey-data-with-r/" title="handling-survey-data-with-r" rel="bookmark">handling-survey-data-with-r</a>
    </h1>
    <div class="entry-content full-content">
      <p>R is generally very good for handling many different data types but</p>

<h3>R has problems with survey data</h3>

<p>This post is a stub about what packages Ive found with methods allowing to handle efficiently survey data: handle variable labels, values labels, and retrieve information about missing values</p>

<h4>Base R:</h4>

<pre><code>## Not run:
require(foreign)
analyte  &lt;- read.spss(filename, to.data.frame=T) 
varslist &lt;- as.data.frame(attributes(analyte)$variable.labels)
# this gives a pretty useful thing to use
</code></pre>

<p></p>


<p>While I was digging around in <a href="http://mephisto.unige.ch/traminer">TraMineR</a> I found this link to Dataset, Emmanuel Rousseaux's package for handling, documenting and describing data sets of survey data.</p>

<h4>Code:Dataset, a package for handling-survey-data-with-r</h4>

<pre><code>if(!require(Dataset)) install.packages("Dataset", repos="http://R-Forge.R-project.org");
require(Dataset)
data(dds)
str(dds)
# cool
description(dds$sexe)
# excellent!
</code></pre>

<p></p>


<h3>Conclusions</h3>

<p>I'm sure there are plenty of other approaches.  I'll add them as I find them'</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/Data Documentation" title="Data Documentation" rel="category tag">Data Documentation</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2013/11/handling-survey-data-with-r/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="2013-11-06 00:00:00 +1100">06 Nov 2013</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2013/11/github-and-reproducible-research-report-casestudy-hutchinson-drought-index/" title="Github And Reproducible Research Report Casestudy Hutchinson Drought Index" rel="bookmark">Github And Reproducible Research Report Casestudy Hutchinson Drought Index</a>
    </h1>
    <div class="entry-content full-content">
      <h3>Background</h3>

<p>This is an example of using github for a Reproducible Research Report (RRR) using a casestudy of the  Hutchinson Drought Index.  The project is available under GNU licence at <a href="https://github.com/ivanhanigan/HutchinsonDroughtIndex">https://github.com/ivanhanigan/HutchinsonDroughtIndex</a>.</p>

<h3>Aims</h3>

<p>This example will clone the repository from github and run the replication codes using the replication datasets.</p>

<h3>Materials and Methods</h3>

<ul>
<li>assumes you are connected to the internet</li>
<li>assumes you have git, a github account and ssh key set up</li>
<li>assumes you have R and GDAL configured</li>
<li>assumes BoM and ABS have kept their data in the locations I specified to download from</li>
</ul>


<h3>Hutchinsons Drought Index</h3>

<p>The Hutchinson Drought Index (or Drought Severity Index) is a climatic drought index
that was designed to reflect agricultural droughts using only rainfall data.</p>

<p>The index was invented by Professor Mike Hutchinson at the ANU in 1992 (1) and
this project includes R codes written to describe the calculations
and also to download data (2,3) to play with.</p>

<h3>Results</h3>

<h4>Replication Codes to run in the terminal</h4>

<pre><code>git clone git@github.com:ivanhanigan/HutchinsonDroughtIndex.git ~/data/HutchinsonDroughtIndex
R
setwd("~/data/HutchinsonDroughtIndex")
source("HutchinsonDroughtIndex_go.r")
</code></pre>

<p></p>


<ul>
<li>WARNING this downloads 5.4MB from BoM and 19.9MB from ABS</li>
<li>This runs the codes and produces graphs</li>
<li>an alternative workflow would be to run the sweave file in the reports directory but I dont like that method as much and have set all the evaluation commands to false.</li>
<li>it will run now that we have the graphs though, to create a report:</li>
</ul>


<h4>Code:</h4>

<pre><code>setwd("reports")
Sweave("HutchinsonDroughtIndex_transformations_doc.Rnw")
</code></pre>

<p></p>


<ul>
<li>which creates a tex file that can create <a href="/pdfs/HutchinsonDroughtIndex_transformations_doc.pdf">this pdf</a></li>
<li>but the simplest example I gave above will compute the index and create the graphs (one is shown below)</li>
</ul>


<p><img src="/images/CentralWestDrought8283.png" alt="CentralWestDrought8283.png" /></p>

<h3>So what actually happened?</h3>

<ul>
<li>This project adheres to the <a href="http://stackoverflow.com/a/1434424">Reichian LCFD model of writing R code</a></li>
<li>In this the code is bundled into modules Func (tools), Load, Do, Clean (check).  These live in the src directory (following teh White ProjectTemplate model - well almost, He would put tools/func into lib)</li>
<li>then a main.r (or go.r) script calls these modules</li>
</ul>


<h4>go.r</h4>

<pre><code> source('src/HutchinsonDroughtIndex_tools.r')
 source('src/HutchinsonDroughtIndex_load.r')
 source('src/HutchinsonDroughtIndex_do.r')
 source('src/HutchinsonDroughtIndex_check.r')
</code></pre>

<p></p>


<ul>
<li><p>The really interesting bit is <a href="https://github.com/ivanhanigan/HutchinsonDroughtIndex/blob/master/src/HutchinsonDroughtIndex_tools_droughtIndex.r">a tool written for this project</a> that is called from within tools.r</p>

<p>   source('src/HutchinsonDroughtIndex_tools_droughtIndex.r')</p></li>
</ul>


<p></p>


<ul>
<li>A keen reader would look in that script to find out exactly what the function does</li>
<li>A keen author would push that function to an R package (a super keen bean would publish this on CRAN)</li>
</ul>


<h3>Discussion</h3>

<h4>Strengths:</h4>

<ul>
<li>full codes are provided to reproduce the data access, manipulation and analysis</li>
<li>the gory details are hidden from the casual user</li>
</ul>


<h4>Weaknesses:</h4>

<ul>
<li>the important details are hidden from the technical user</li>
<li>the script depends on a bunch of things that might not be true</li>
</ul>


<h4>Conclusions</h4>

<ul>
<li>This is an example of a self-contained RRR</li>
</ul>


<h3>References</h3>

<ol>
<li><p>Smith, D. I, Hutchinson, M. F, &amp; McArthur, R. J. (1992) Climatic and
Agricultural Drought: Payments and Policy. (Centre for Resource and Environmental
Studies, Australian National University, Canberra, Australia).<br/>
http://fennerschool-research.anu.edu.au/spatio-temporal/publications/cres_paper1992.pdf</p></li>
<li><p>Bureau of Meteorology High Quality Monthly precipitation data
downloaded on 2012-01-09
from ftp://ftp.bom.gov.au/anon/home/ncc/www/change/HQmonthlyR/HQ_monthly_prcp_txt.tar</p></li>
<li><p>Australian Bureau of Statistics Statistical Divisions 2006
downloaded on 2012-01-09
from http://www.abs.gov.au/AUSSTATS/abs@.nsf/DetailsPage/1259.0.30.0022006?OpenDocument</p></li>
</ol>


<h3>Acknowledgements</h3>

<p>Financial support was provided by Professor Tony McMichael's
"Australia Fellowship" from the the National Health and Medical Research Council, via the
National Centre for Epidemiology and Population Health, Australian National University.</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/climatic and agricultural drought" title="climatic and agricultural drought" rel="category tag">climatic and agricultural drought</a>
      
    </p>
    <!--
	<p class="comments-link">
      <a href='/2013/11/github-and-reproducible-research-report-casestudy-hutchinson-drought-index/#disqus_thread'>Comments</a>
    </p>
	-->
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="2013-11-06 00:00:00 +1100">06 Nov 2013</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>


<div class="pagination">
  <span class="previous">
    
      
      <a href="/page26/" title="Previous Page">&laquo; Previous</a>
      
    
  </span>
  <span class="next">
    
    <a href="/page28/" title="Next Page">Next &raquo;</a>
    
  </span>
</div>
<!-- <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=SChamberlain"></script> -->

        </div>
        <div id="sidebar">
          <div id="carrington-subscribe" class="widget">
            <h2 class="widget-title">Subscribe</h2>
            <a class="feed alignright" title="RSS 2.0 feed for posts" rel="alternate" href="http://feeds.feedburner.com/Disentanglethings">
              <img src="/images/rss-button.gif" alt="latest posts" title="latest posts">
            </a>
          </div>
          <div id="carrington-about" class="widget">
            <div class="about">
              <h2 class="widget-title">About</h2>
              <p>I am a Human Ecologist, Epidemiologist and Data Scientist at Canberra University.</p>
              <a class="more" href="/about.html">more →</a>

            </div>
          </div>
<div class="sidebar">
  <div class="logos">
  
  <ul>
          
      <!-- Add in logos here -->
      <a href="http://scholar.google.com/citations?user=cGN1P0wAAAAJ&hl=en"><img src="/images/GSIcon.jpg" height=22px width=22px/></a>&nbsp;&nbsp;&nbsp;&nbsp; 
          
      <!-- Add in logos here -->
      <a href="http://orcid.org/0000-0002-6360-6793"><img src="/images/ORCID.png" height=22px width=22px/></a>&nbsp;&nbsp;&nbsp;&nbsp; 
          
      <!-- Add in logos here -->
      <a href="http://github.com/ivanhanigan"><img src="/images/github.png" height=22px width=22px/></a>&nbsp;&nbsp;&nbsp;&nbsp; 
          
      <!-- Add in logos here -->
      <a href="mailto:ivan.hanigan@gmail.com"><img src="/images/gmail.png" height=22px width=22px/></a>&nbsp;&nbsp;&nbsp;&nbsp; 
          
      <!-- Add in logos here -->
      <a href="https://twitter.com/ivanhanigan"><img src="/images/twitter.png" height=22px width=22px/></a>&nbsp;&nbsp;&nbsp;&nbsp; 
    
  </ul>
   
  </div>
</div>
          <!--
          	<p>
              <a href="http://ropensci.org/">
                <img src="/images/ropensci.png">
              </a>
        	</p>
			-->
			<!--
          <div id="carrington-link" class="widget">
          	<a href="http://ropensci.org/">
            <img src="/images/ropensci.png">
          </div>
          	-->
          
          <div id="primary-sidebar">
            <div class="widget">
              <h2 class="widget-title">Recent Entries</h2>
              <ul>
                
                <li>
                  <a href="/2018/02/the-aus-air-pollution-nepm-is-about-protecting-human-health/" title="The Australian Air National Environment Protection Measure (NEPM) is about protecting human health" rel="bookmark">The Australian Air National Environment Protection Measure (NEPM) is about protecting human health</a>
                </li>
                
                <li>
                  <a href="/2017/12/fillcolumns-in-R/" title="Filling empty cells in columns with R" rel="bookmark">Filling empty cells in columns with R</a>
                </li>
                
                <li>
                  <a href="/2017/12/my-view-of-the-research-data-analysis-pipeline/" title="My view of the research data analysis pipeline" rel="bookmark">My view of the research data analysis pipeline</a>
                </li>
                
                <li>
                  <a href="/2017/11/the-impact-of-scale/" title="The impact of scale on associations between disadvantage and hospitalization for heart diseases" rel="bookmark">The impact of scale on associations between disadvantage and hospitalization for heart diseases</a>
                </li>
                
                <li>
                  <a href="/2017/11/new-paper-on-neighbourhood-level-air-pollution-for-health-research/" title="New paper on neighbourhood level air pollution for health research" rel="bookmark">New paper on neighbourhood level air pollution for health research</a>
                </li>
                
              </ul>
              <h2 class="widget-title">Categories</h2>
              <ul>
<!-- <li> -->
<!--               <a class="workflow" href="/categories/workflow.html">workflow</a> -->
<!-- </li> -->
                
                <li><a href="/categories/overview">overview (7)</a></li>
                
                <li><a href="/categories/research methods">research methods (42)</a></li>
                
                <li><a href="/categories/disentangle things">disentangle things (4)</a></li>
                
                <li><a href="/categories/spatial">spatial (9)</a></li>
                
                <li><a href="/categories/extreme weather events">extreme weather events (8)</a></li>
                
                <li><a href="/categories/spatial dependence">spatial dependence (10)</a></li>
                
                <li><a href="/categories/Data Documentation">Data Documentation (31)</a></li>
                
                <li><a href="/categories/awap grids">awap grids (3)</a></li>
                
                <li><a href="/categories/climatic and agricultural drought">climatic and agricultural drought (3)</a></li>
                
                <li><a href="/categories/cloud building">cloud building (3)</a></li>
                
                <li><a href="/categories/disentangle">disentangle (50)</a></li>
                
                <li><a href="/categories/Project Management">Project Management (2)</a></li>
                
                <li><a href="/categories/e-collaboration">e-collaboration (1)</a></li>
                
                <li><a href="/categories/ecosocial tipping points">ecosocial tipping points (2)</a></li>
                
                <li><a href="/categories/Drought">Drought (1)</a></li>
                
                <li><a href="/categories/project management">project management (1)</a></li>
                
                <li><a href="/categories/morpho">morpho (1)</a></li>
                
                <li><a href="/categories/data documentation">data documentation (1)</a></li>
                
                <li><a href="/categories/reproducible research reports">reproducible research reports (2)</a></li>
                
                <li><a href="/categories/Data Management">Data Management (2)</a></li>
                
                <li><a href="/categories/Reproducible Research Reports">Reproducible Research Reports (2)</a></li>
                
                <li><a href="/categories/Data Operation">Data Operation (2)</a></li>
                
                <li><a href="/categories/Workflow tools">Workflow tools (3)</a></li>
                
                <li><a href="/categories/Exploratory Data Analysis">Exploratory Data Analysis (2)</a></li>
                
                <li><a href="/categories/statistical modelling">statistical modelling (2)</a></li>
                
                <li><a href="/categories/blog home">blog home (1)</a></li>
                
                <li><a href="/categories/reproducible research pipelines">reproducible research pipelines (2)</a></li>
                
                <li><a href="/categories/reproducible research">reproducible research (2)</a></li>
                
                <li><a href="/categories/writing">writing (1)</a></li>
                
                <li><a href="/categories/climate data">climate data (1)</a></li>
                
                <li><a href="/categories/exploratory data analysis">exploratory data analysis (2)</a></li>
                
                <li><a href="/categories/bibliometrics and literature reviewing">bibliometrics and literature reviewing (1)</a></li>
                
                <li><a href="/categories/drought awap grids">drought awap grids (1)</a></li>
                
                <li><a href="/categories/drought">drought (2)</a></li>
                
                <li><a href="/categories/data operation">data operation (2)</a></li>
                
                <li><a href="/categories/training">training (1)</a></li>
                
                <li><a href="/categories/swish">swish (3)</a></li>
                
                <li><a href="/categories/air pollution">air pollution (1)</a></li>
                
                <li><a href="/categories/policy relevant research">policy relevant research (1)</a></li>
                
              </ul>
              <h2 class="widget-title">Entries grouped by Tags</h2>
              <ul>
                
                <li><a href="/tag/morpho">morpho (15)</a></li>
                
                <li><a href="/tag/project management">project management (3)</a></li>
                
                <li><a href="/tag/Data Management System">Data Management System (3)</a></li>
                
                <li><a href="/tag/R-eml">R-eml (3)</a></li>
                
                <li><a href="/tag/bugs">bugs (1)</a></li>
                
                <li><a href="/tag/software">software (3)</a></li>
                
                <li><a href="/tag/writing">writing (2)</a></li>
                
                <li><a href="/tag/spatial">spatial (1)</a></li>
                
                <li><a href="/tag/diagrams">diagrams (3)</a></li>
                
                <li><a href="/tag/blogging">blogging (2)</a></li>
                
                <li><a href="/tag/metadata">metadata (1)</a></li>
                
                <li><a href="/tag/R">R (1)</a></li>
                
                <li><a href="/tag/Reproducible Research Reports">Reproducible Research Reports (2)</a></li>
                
                <li><a href="/tag/Data Management">Data Management (3)</a></li>
                
                <li><a href="/tag/Exploratory Data Analysis">Exploratory Data Analysis (1)</a></li>
                
                <li><a href="/tag/bibliometrics and literature reviewing">bibliometrics and literature reviewing (2)</a></li>
                
                <li><a href="/tag/workflow tools">workflow tools (1)</a></li>
                
                <li><a href="/tag/data management">data management (1)</a></li>
                
                <li><a href="/tag/exploratory data analysis">exploratory data analysis (1)</a></li>
                
              <div class="clear"></div>
              </ul>
            </div>
          </div>
          <!-- <div id="secondary-sidebar"> -->
          <!--   <div class="widget"> -->
          <!--     <h2 class="widget-title">Tags</h2> -->
          <!--     <ul> -->
          <!--        -->
          <!--       <li><a href="/tag/morpho">morpho (15)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/project management">project management (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/Data Management System">Data Management System (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/R-eml">R-eml (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/bugs">bugs (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/software">software (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/writing">writing (2)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/spatial">spatial (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/diagrams">diagrams (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/blogging">blogging (2)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/metadata">metadata (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/R">R (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/Reproducible Research Reports">Reproducible Research Reports (2)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/Data Management">Data Management (3)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/Exploratory Data Analysis">Exploratory Data Analysis (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/bibliometrics and literature reviewing">bibliometrics and literature reviewing (2)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/workflow tools">workflow tools (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/data management">data management (1)</a></li> -->
          <!--        -->
          <!--       <li><a href="/tag/exploratory data analysis">exploratory data analysis (1)</a></li> -->
          <!--        -->
          <!--     <div class="clear"></div> -->
          <!--     </ul> -->
          <!--   </div> -->
            <!--
            <div class="widget">
              <h2 class="widget-title">Archives</h2>
              <ul>
                
              </ul>
              <div class="clear"></div>
            </div>
            -->
          </div>
        </div>
      </div>
    </div>
    <div id="footer" class="section">
      <div class="wrapper">
        <a id="generator-link">
          Banner Artwork by Cindy Hales. Site powered by
          <a href="https://github.com/mojombo/jekyll" rel="generator">Jekyll</a>
          with
          <a href="http://carringtontheme.com" title="Carrington theme for WordPress">Carrington</a>
          theme.
      </div>
      <div id="developer-link">
      </div>
    </div>
    <!--
	<a href="http://github.com/SChamberlain"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://assets2.github.com/img/e6bef7a091f5f3138b8cd40bc3e114258dd68ddf?repo=&url=http%3A%2F%2Fs3.amazonaws.com%2Fgithub%2Fribbons%2Fforkme_right_red_aa0000.png&path=" alt="Fork me on GitHub"></a>
	-->
    <script type="text/javascript">
      var disqus_shortname = 'disentanglethings';

      (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
    </script>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-28059658-1");
        pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
</html>
